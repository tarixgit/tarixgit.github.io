{"version":3,"sources":["StepperNN.js","symbolSVG.js","Training.js","NeuralNetworkClassification.js","Button.js","NeuralNetwork.js","MainComponent.js","serviceWorker.js","index.js"],"names":["require","StepperNN","Provider","Node","state","activeStep","completed","Set","getSteps","setStep","_this","setState","handleNext","currentStep","props","handleBack","handleStep","step","handleReset","this","_this2","classes","steps","react_default","a","createElement","className","root","Stepper_default","editable","alternativeLabel","map","label","index","Step_default","key","StepButton","onClick","isStepComplete","length","Typography_default","instructions","Button_default","button","openExplanationModal","disabled","variant","color","React","Component","withStyles","theme","width","marginRight","spacing","unit","marginTop","marginBottom","symbolSVG","inputO","svg","x","y","delay","symbol","append","attr","style","transition","duration","outputO1","group","outputO2","weightW1","weightW2","assignment","minus","d3","math","Training","Object","classCallCheck","possibleConstructorReturn","getPrototypeOf","call","generateWeight","rows","columns","result","i","arr","j","push","Math","random","getStepDescription","head","body","getStepContent","String","raw","_templateObject","_templateObject2","_templateObject3","_templateObject4","_templateObject5","_templateObject6","_templateObject7","_templateObject8","_templateObject9","getStepFormulaDescription","descrFormulaOne","_templateObject10","descrFormulaTwo","_templateObject11","_templateObject12","_templateObject13","_templateObject14","_templateObject15","_templateObject16","_templateObject17","_templateObject18","_templateObject19","_templateObject20","_templateObject21","_templateObject22","_templateObject23","updateLeftView","matrixSvg","svgGraph","svgInput","_this$state","widthOfCell","heightOfCell","_this$state2","input","inputImageData","sizeOfPicture","widthOfDesr","moveSvgInputBack","drawOneDescr","coordX","coordY","w","drawOne","drawArrowDown","h","drawOneAsMatrix","drawArrowRight","drawFirstMatrix","updateChart","oneInArr","_this$state3","weightOneMatrixData","yPosition","moveSvgInput","drawSecondMatrix","calculate","_this$state4","outputOneMatrixData","weightTwoMatrixData","_this$state5","outputTwoMatrixData","expectedOutput","text","inputVector","matrix","weightOne","weightOneData","outputOneVector","multiply","value","exp","toArray","prepareMatrixData","numberOfNeuronInHiddenLayer","outputOne","weightTwo","weightTwoData","outputTwoVector","numberOfOutputNeuron","outputTwo","expectedOutputArr","error","subtract","abs","svgNew","svgGraphNew","svgInputNew","currentStepFormula","currentDescription","_this$getStepFormulaD","selectAll","remove","hiddenLayerVector","outputVector","svgGraphWithSymbols","ipnutData","outputData","hiddenLayerData","svgSymbolsPanel","numberOfInputNeuron","defineProperty","neuronValue","hiddenLayers","currentLayer","firstXCoordinate","div","select","refVis","greens","scaleSequential","domain","interpolator","interpolateGreens","forEach","layerIndex","data","enter","radius","d","on","html","toFixed","event","pageX","pageY","preparedWeightOne","item","item2","preparedWeightTwo","accessorLayer","accessor","accessorIndex","matrixRows","matrixColumns","inputData","isInputArrTwoDimensional","truncateNumber","xpos","ypos","height","row","column","click","drawRoundBracket","x1","y1","x2","y2","dy","drawKreuz","drawMatrixDescr","refVisTemp","withoutArrow","svgTemp","halfWidth","matrixData","x_coord","y_coord","descrFunction","newMatrixSvg","numberOfrows","matrixSvgOne","drawMatrix","matrixSvgTwo","drawAssignment","cell","arrow","domRect","node","parentNode","getBoundingClientRect","ease","easeSin","isModalOpen","closeExplanationModal","counter","selectedStep","_templateObject24","_templateObject25","objectSpread","viz","Typography_Typography","gutterBottom","ref","display","refVisTempOne","Training_Provider","Training_Node","inline","refVisTempTwo","src_StepperNN","Modal_default","aria-labelledby","aria-describedby","open","onClose","top","left","transform","paper","id","align","slider","padding","thumbIcon","borderRadius","thumbIconWrapper","backgroundColor","position","palette","background","boxShadow","shadows","outline","NeuralNetworkClassification","gridDataArray","gridData","mainDiv","refVisNN","Array","Button","dispatch","offsetX","offsetY","my","selection","each","g","bbox","getBBox","insert","activate","deactivate","toggle","defs","rect","shadow","merge","gradient","classed","clear","apply","arguments","NeuralNetwork","dataFromNeuralNetworkClassification","draw","instructionDataOnDrawNetwork","nodes","indexForInputayer","layer","nodeSize","dx","netsize","largestLayerSize","max","keys","xdist","ydist","lidx","links","n","source","parseInt","target","filter","sqrt","prototype","moveToFront","appendChild","imagename","NeuralNetwork_React","src_NeuralNetworkClassification","MainComponent","prevState","_this$props","src_Training","src_NeuralNetwork","MobileStepper_default","mobileStepper","backButton","size","buttonLeft","direction","KeyboardArrowRight_default","KeyboardArrowLeft_default","nextButton","buttonRight","maxSteps","maxWidth","flexGrow","bottom","right","header","alignItems","paddingLeft","default","img","overflow","withTheme","Boolean","window","location","hostname","match","ReactDOM","render","src_MainComponent","document","getElementById","navigator","serviceWorker","ready","then","registration","unregister"],"mappings":"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","file":"static/js/main.7507c34f.chunk.js","sourcesContent":["import React from 'react';\nimport PropTypes from 'prop-types';\nimport { withStyles } from '@material-ui/core/styles';\nimport Stepper from '@material-ui/core/Stepper';\nimport Step from '@material-ui/core/Step';\nimport StepLabel from '@material-ui/core/StepLabel';\nimport Button from '@material-ui/core/Button';\nimport Typography from '@material-ui/core/Typography';\nimport StepButton from \"@material-ui/core/es/StepButton/StepButton\";\nconst { Provider, Node } = require(\"@nteract/mathjax\");\n\nconst styles = theme => ({\n    root: {\n        width: '100%',\n    },\n    button: {\n        marginRight: theme.spacing.unit,\n    },\n    instructions: {\n        marginTop: theme.spacing.unit,\n        marginBottom: theme.spacing.unit,\n    },\n});\n\nclass StepperNN extends React.Component {\n    state = {\n        activeStep: 0,\n        completed: new Set(),\n    };\n\n    getSteps = () => {\n        return ['Initial', 'Multiple input with weight', 'Multiple output with weight', 'Deviation of error',\n            'Deviation of Sigmoid 1', 'Deviation of Sigmoid 2', 'Correction coeff. 1', 'Correction coeff. 2',  'Weight correction 1', 'Weight correction 2'];\n    };\n\n    setStep = (activeStep) => {\n        this.setState({activeStep});\n    };\n\n    handleNext = () => {\n        const { activeStep } = this.state;\n        const currentStep = activeStep + 1;\n        this.props.setStep(currentStep);\n        this.setStep(currentStep);\n    };\n\n    handleBack = () => {\n        const { activeStep } = this.state;\n        const currentStep = activeStep - 1;\n        this.props.setStep(currentStep);\n        this.setStep(currentStep);\n    };\n\n    handleStep = step => () => {\n        const currentStep = step;\n        this.props.setStep(currentStep);\n        this.setStep(currentStep);\n    };\n\n\n    handleReset = () => {\n        const currentStep = 0;\n        this.props.setStep(currentStep);\n        this.setStep(currentStep);\n    };\n\n    isStepComplete(step) {\n        return step < this.state.activeStep;\n    }\n\n    render() {\n        const { classes } = this.props;\n        const steps = this.getSteps();\n        const { activeStep } = this.state;\n\n        return (\n            <div className={classes.root}>\n                <Stepper activeStep={activeStep} editable alternativeLabel>\n                    {steps.map((label, index) => {\n                        return (\n                            <Step key={label}>\n                                <StepButton\n                                    onClick={this.handleStep(index)}\n                                    completed={this.isStepComplete(index)}\n                                >\n                                    {label}\n                                </StepButton>\n                            </Step>\n                        );\n                    })}\n                </Stepper>\n                <div className={'stepButton'}>\n                    {activeStep === steps.length ? (\n                        <div>\n                            <Typography className={classes.instructions}>\n                                One cycle of trainin completed - algo take the next Data and start again.\n                            </Typography>\n                            <Button onClick={this.handleReset} className={classes.button}>\n                                Reset\n                            </Button>\n                        </div>\n                    ) : (\n                        <div>\n                            <div>\n                                <Button\n                                    onClick={this.props.openExplanationModal}\n                                    className={classes.button}\n                                >\n                                    Show explanations\n                                </Button>\n                                <Button\n                                    disabled={activeStep === 0}\n                                    onClick={this.handleBack}\n                                    className={classes.button}\n                                >\n                                    Back\n                                </Button>\n                                <Button\n                                    variant=\"contained\"\n                                    color=\"primary\"\n                                    onClick={this.handleNext}\n                                    className={classes.button}\n                                >\n                                    {activeStep === steps.length - 1 ? 'Finish' : 'Next'}\n                                </Button>\n                            </div>\n                        </div>\n                    )}\n                </div>\n            </div>\n        );\n    }\n}\n\nexport default withStyles(styles)(StepperNN);\n","const d3 = require('d3');\n\nexport default {\n    inputO: (svg, x, y, delay) => {\n        const symbol = svg.append('svg')\n            .attr('x', !!x ? x : 0)\n            .attr('y', !!y ? y : 0)\n            .attr('viewBox', '0 0 40 60')\n            .attr('width', '20')\n            .attr('height', '60')\n            .style('opacity', delay ? .0 : 1);\n        // .attr('width', 10)\n        // .attr('height', 42)\n        symbol.append('path')\n            .attr('d', 'M0,10.9272031 C0,10.9272031 0,11.1181354 0,11.5 C0,11.8818646 0.21021021,12.1756066 0.630630631,12.3812261 L35.0900901,12.3812261 C31.6066066,14.9367816 29.4594595,18.2120051 28.6486486,22.2068966 C28.6486486,22.2362708 28.6486486,22.2803321 28.6486486,22.3390805 C28.6486486,22.3978289 28.6336336,22.4418902 28.6036036,22.4712644 C28.6036036,22.8237548 28.8588589,23 29.3693694,23 L29.5045045,23 C29.7747748,23 29.954955,22.9853129 30.045045,22.9559387 C30.1351351,22.9265645 30.2252252,22.8678161 30.3153153,22.7796935 C30.4054054,22.6915709 30.4504505,22.559387 30.4504505,22.3831418 C30.4504505,22.2068966 30.4954955,21.9719029 30.5855856,21.6781609 C30.6756757,21.3844189 30.7957958,21.0172414 30.9459459,20.5766284 C31.6066066,18.6085568 32.7027027,16.8461047 34.2342342,15.289272 C35.7657658,13.7324393 37.5525526,12.6309068 39.5945946,11.9846743 C39.8648649,11.8965517 40,11.7349936 40,11.5 C40,11.3237548 39.9249249,11.1915709 39.7747748,11.1034483 C39.6246246,11.0153257 39.2642643,10.8684547 38.6936937,10.6628352 C38.1231231,10.4572158 37.5525526,10.1781609 36.981982,9.8256705 C35.7507508,9.06194125 34.6846847,8.1807152 33.7837838,7.18199234 C32.8828829,6.18326948 32.2072072,5.19923372 31.7567568,4.22988506 C31.3063063,3.2605364 30.990991,2.52618135 30.8108108,2.02681992 C30.6306306,1.52745849 30.5105105,1.07215837 30.4504505,0.66091954 C30.3903904,0.367177522 30.3153153,0.190932312 30.2252252,0.132183908 C30.1351351,0.0734355045 29.8948949,0.0293742018 29.5045045,0 C28.9039039,0 28.6036036,0.16155811 28.6036036,0.48467433 C28.6036036,0.690293742 28.6786787,1.05747126 28.8288288,1.5862069 C29.7897898,5.28735632 31.8768769,8.29821201 35.0900901,10.6187739 L0.630630631,10.6187739 C0.21021021,10.8243934 0,11.1181354 0,11.5 L0,10.9272031 Z')\n            .attr('fill', '#000')\n            .attr('fill-rule', '#nonzero')\n            .attr('stroke', 'black')\n            .attr('stroke-width', '1');\n        symbol.append('path')\n            .attr('d', 'M35,45.4022039 C35,41.8117539 33.9797101,38.3461892 31.9391304,35.0055096 C29.8985507,31.6648301 27.2681159,28.9954086 24.0478261,26.9972452 C20.8275362,24.9990817 17.5275362,24 14.1478261,24 C11.0550725,24 8.40869565,24.8898072 6.20869565,26.6694215 C4.00869565,28.4490358 2.62173913,31.040404 2.04782609,34.4435262 C2.01594203,34.6932966 2,35.3645546 2,36.4573003 C2,39.6418733 2.76521739,42.6703398 4.29565217,45.5426997 C5.82608696,48.4150597 7.8826087,50.959596 10.4652174,53.1763085 C14.4188406,56.3921028 18.3884058,58 22.373913,58 C23.5855072,58 24.3507246,57.9843893 24.6695652,57.953168 C27.7623188,57.5160698 30.2492754,56.1735537 32.1304348,53.9256198 C34.0115942,51.677686 34.9681159,48.8365473 35,45.4022039 Z M30,48.2229102 C30,50.9783282 29.2652778,53.130031 27.7958333,54.6780186 C26.3263889,56.2260062 24.4895833,57 22.2854167,57 C19.7298611,57 17.2701389,56.0712074 14.90625,54.2136223 C12.3506944,52.2631579 10.4020833,49.5232198 9.06041667,45.993808 C7.71875,42.4643963 7.03194444,39.1826625 7,36.1486068 C7,33.3622291 7.68680556,31.1486068 9.06041667,29.5077399 C10.4340278,27.8668731 12.2548611,27.0309598 14.5229167,27 C17.3979167,27 20.1291667,28.2229102 22.7166667,30.6687307 C25.3041667,33.1145511 27.26875,36.4427245 28.6104167,40.6532508 C29.5368056,43.5944272 30,46.1176471 30,48.2229102 Z')\n            .attr('fill', '#000')\n            .attr('fill-rule', '#nonzero')\n            .attr('stroke', 'black')\n            .attr('stroke-width', '1')\n            .attr('transform', 'translate(18.500000, 41.000000) scale(-1, 1) translate(-18.500000, -41.000000)');\n        if (delay) {\n            symbol.transition()\n                .delay(delay)\n                .duration(1000)\n                .style('opacity', .9);\n        }\n        return symbol;\n    },\n    outputO1: (svg, x, y, delay) => {\n        const symbol = svg.append('svg')\n            .attr('x', !!x ? x : 0)\n            .attr('y', !!y ? y : 0)\n            .attr('viewBox', '0 0 50 58')\n            .attr('width', '25')\n            .attr('height', '58')\n            .style('opacity', delay ? .0 : 1);\n        // .attr('width', 10)\n        // .attr('height', 42)\n        symbol.append('path')\n            .attr('d', 'M43.7790698,31.3573574 L43.4011628,31.2072072 C43.129845,31.1071071 42.7422481,31.007007 42.2383721,30.9069069 C41.7344961,30.8068068 41.1724806,30.7367367 40.5523256,30.6966967 L40,30.6966967 L40,32.0780781 L40.5523256,32.0780781 C41.4631783,32.1181181 42.3062016,32.2682683 43.0813953,32.5285285 C43.8565891,32.7887888 44.3992248,33.029029 44.7093023,33.2492492 C45.0193798,33.4694695 45.2906977,33.6896897 45.5232558,33.9099099 C45.5620155,33.96997 45.6782946,34 45.872093,34 C46.0465116,34 46.2112403,33.9399399 46.3662791,33.8198198 L46.3662791,24.8408408 L46.3953488,15.8318318 C46.5310078,15.6916917 46.6472868,15.6016016 46.744186,15.5615616 C46.8410853,15.5215215 47.0736434,15.4814815 47.4418605,15.4414414 C47.8100775,15.4014014 48.4108527,15.3813814 49.244186,15.3813814 L50,15.3813814 L50,14 L49.6802326,14 C49.2732558,14.0600601 47.7325581,14.0900901 45.0581395,14.0900901 C42.4224806,14.0900901 40.9011628,14.0600601 40.494186,14 L40.1453488,14 L40.1453488,15.3813814 L40.9011628,15.3813814 C41.3275194,15.3813814 41.6957364,15.3813814 42.005814,15.3813814 C42.3158915,15.3813814 42.5581395,15.3913914 42.7325581,15.4114114 C42.9069767,15.4314314 43.0620155,15.4614615 43.1976744,15.5015015 C43.3333333,15.5415415 43.4108527,15.5615616 43.4302326,15.5615616 C43.4496124,15.5615616 43.5077519,15.6116116 43.6046512,15.7117117 C43.7015504,15.8118118 43.7596899,15.8518519 43.7790698,15.8318318 L43.7790698,31.3573574 Z')\n            .attr('fill', '#000')\n            .attr('fill-rule', '#nonzero')\n            .attr('stroke', 'black')\n            .attr('stroke-width', '1')\n            .attr('transform', 'translate(45.000000, 24.000000) scale(1, -1) translate(-45.000000, -24.000000)');\n        const group = symbol.append('g').attr('fill', '#000000');\n        group.append('path')\n            .attr('d', 'M0,10.9272031 C0,10.9272031 0,11.1181354 0,11.5 C0,11.8818646 0.21021021,12.1756066 0.630630631,12.3812261 L35.0900901,12.3812261 C31.6066066,14.9367816 29.4594595,18.2120051 28.6486486,22.2068966 C28.6486486,22.2362708 28.6486486,22.2803321 28.6486486,22.3390805 C28.6486486,22.3978289 28.6336336,22.4418902 28.6036036,22.4712644 C28.6036036,22.8237548 28.8588589,23 29.3693694,23 L29.5045045,23 C29.7747748,23 29.954955,22.9853129 30.045045,22.9559387 C30.1351351,22.9265645 30.2252252,22.8678161 30.3153153,22.7796935 C30.4054054,22.6915709 30.4504505,22.559387 30.4504505,22.3831418 C30.4504505,22.2068966 30.4954955,21.9719029 30.5855856,21.6781609 C30.6756757,21.3844189 30.7957958,21.0172414 30.9459459,20.5766284 C31.6066066,18.6085568 32.7027027,16.8461047 34.2342342,15.289272 C35.7657658,13.7324393 37.5525526,12.6309068 39.5945946,11.9846743 C39.8648649,11.8965517 40,11.7349936 40,11.5 C40,11.3237548 39.9249249,11.1915709 39.7747748,11.1034483 C39.6246246,11.0153257 39.2642643,10.8684547 38.6936937,10.6628352 C38.1231231,10.4572158 37.5525526,10.1781609 36.981982,9.8256705 C35.7507508,9.06194125 34.6846847,8.1807152 33.7837838,7.18199234 C32.8828829,6.18326948 32.2072072,5.19923372 31.7567568,4.22988506 C31.3063063,3.2605364 30.990991,2.52618135 30.8108108,2.02681992 C30.6306306,1.52745849 30.5105105,1.07215837 30.4504505,0.66091954 C30.3903904,0.367177522 30.3153153,0.190932312 30.2252252,0.132183908 C30.1351351,0.0734355045 29.8948949,0.0293742018 29.5045045,0 C28.9039039,0 28.6036036,0.16155811 28.6036036,0.48467433 C28.6036036,0.690293742 28.6786787,1.05747126 28.8288288,1.5862069 C29.7897898,5.28735632 31.8768769,8.29821201 35.0900901,10.6187739 L0.630630631,10.6187739 C0.21021021,10.8243934 0,11.1181354 0,11.5 L0,10.9272031 Z')\n            .attr('fill', '#000')\n            .attr('fill-rule', '#nonzero')\n            .attr('stroke', 'black')\n            .attr('stroke-width', '1');\n        group.append('path')\n            .attr('d', 'M35,45.4022039 C35,41.8117539 33.9797101,38.3461892 31.9391304,35.0055096 C29.8985507,31.6648301 27.2681159,28.9954086 24.0478261,26.9972452 C20.8275362,24.9990817 17.5275362,24 14.1478261,24 C11.0550725,24 8.40869565,24.8898072 6.20869565,26.6694215 C4.00869565,28.4490358 2.62173913,31.040404 2.04782609,34.4435262 C2.01594203,34.6932966 2,35.3645546 2,36.4573003 C2,39.6418733 2.76521739,42.6703398 4.29565217,45.5426997 C5.82608696,48.4150597 7.8826087,50.959596 10.4652174,53.1763085 C14.4188406,56.3921028 18.3884058,58 22.373913,58 C23.5855072,58 24.3507246,57.9843893 24.6695652,57.953168 C27.7623188,57.5160698 30.2492754,56.1735537 32.1304348,53.9256198 C34.0115942,51.677686 34.9681159,48.8365473 35,45.4022039 Z M30,48.2229102 C30,50.9783282 29.2652778,53.130031 27.7958333,54.6780186 C26.3263889,56.2260062 24.4895833,57 22.2854167,57 C19.7298611,57 17.2701389,56.0712074 14.90625,54.2136223 C12.3506944,52.2631579 10.4020833,49.5232198 9.06041667,45.993808 C7.71875,42.4643963 7.03194444,39.1826625 7,36.1486068 C7,33.3622291 7.68680556,31.1486068 9.06041667,29.5077399 C10.4340278,27.8668731 12.2548611,27.0309598 14.5229167,27 C17.3979167,27 20.1291667,28.2229102 22.7166667,30.6687307 C25.3041667,33.1145511 27.26875,36.4427245 28.6104167,40.6532508 C29.5368056,43.5944272 30,46.1176471 30,48.2229102 Z')\n            .attr('fill', '#000')\n            .attr('fill-rule', '#nonzero')\n            .attr('stroke', 'black')\n            .attr('stroke-width', '1')\n            .attr('transform', 'translate(18.500000, 41.000000) scale(-1, 1) translate(-18.500000, -41.000000)');\n\n        if (delay) {\n            symbol.transition()\n                .delay(delay)\n                .duration(1000)\n                .style('opacity', .9);\n        }\n        return symbol;\n     },\n    outputO2: (svg, x, y, delay) => {\n        const symbol = svg.append('svg')\n            .attr('x', !!x ? x : 0)\n            .attr('y', !!y ? y : 0)\n            .attr('viewBox', '0 0 58 58')\n            .attr('width', '29')\n            .attr('height', '58')\n            .style('opacity', delay ? .0 : 1);\n        // .attr('width', 10)\n        // .attr('height', 42)\n        symbol.append('path')\n            .attr('d', 'M45.7744361,32.8828829 C45.2330827,32.8828829 44.802005,33.0630631 44.481203,33.4234234 C44.160401,33.7837838 44,34.2242242 44,34.7447447 C44,36.1661662 44.5313283,37.3973974 45.593985,38.4384384 C46.6566416,39.4794795 47.9799499,40 49.5639098,40 C51.3884712,40 52.9122807,39.4394394 54.1353383,38.3183183 C55.358396,37.1971972 55.9799499,35.7457457 56,33.963964 C56,33.1031031 55.7994987,32.2822823 55.3984962,31.5015015 C54.9974937,30.7207207 54.5162907,30.04004 53.9548872,29.4594595 C53.3934837,28.8788789 52.5914787,28.1381381 51.5488722,27.2372372 C50.8270677,26.6166166 49.8245614,25.6956957 48.5413534,24.4744745 L46.7669173,22.7927928 L49.0526316,22.7627628 C52.2005013,22.7627628 53.8746867,22.8128128 54.075188,22.9129129 C54.2155388,22.952953 54.4561404,23.8438438 54.7969925,25.5855856 L54.7969925,25.6756757 L56,25.6756757 L56,25.5855856 C55.9799499,25.5255255 55.8496241,24.6146146 55.6090226,22.8528529 C55.3684211,21.0910911 55.2180451,20.1701702 55.1578947,20.0900901 L55.1578947,20 L44,20 L44,20.5705706 L44,20.9309309 C44,21.0710711 44.0601504,21.2212212 44.1804511,21.3813814 C44.3007519,21.5415415 44.6015038,21.8918919 45.0827068,22.4324324 C45.6641604,23.0730731 46.1654135,23.6336336 46.5864662,24.1141141 C46.7669173,24.3143143 47.1077694,24.6846847 47.6090226,25.2252252 C48.1102757,25.7657658 48.4511278,26.1361361 48.6315789,26.3363363 C48.8120301,26.5365365 49.1027569,26.8668669 49.5037594,27.3273273 C49.9047619,27.7877878 50.1854637,28.1281281 50.3458647,28.3483483 C50.5062657,28.5685686 50.7368421,28.8688689 51.037594,29.2492492 C51.3383459,29.6296296 51.5488722,29.9499499 51.6691729,30.2102102 C51.7894737,30.4704705 51.9398496,30.7607608 52.1203008,31.0810811 C52.3007519,31.4014014 52.4310777,31.7217217 52.5112782,32.042042 C52.5914787,32.3623624 52.6616541,32.6626627 52.7218045,32.9429429 C52.7819549,33.2232232 52.8120301,33.5535536 52.8120301,33.9339339 C52.8120301,35.1951952 52.4711779,36.2862863 51.7894737,37.2072072 C51.1077694,38.1281281 50.1353383,38.5885886 48.8721805,38.5885886 C48.2105263,38.5885886 47.6290727,38.4184184 47.1278195,38.0780781 C46.6265664,37.7377377 46.2756892,37.4074074 46.075188,37.0870871 C45.8746867,36.7667668 45.7744361,36.5765766 45.7744361,36.5165165 C45.7744361,36.4964965 45.8245614,36.4864865 45.924812,36.4864865 C46.2857143,36.4864865 46.6566416,36.3463463 47.037594,36.0660661 C47.4185464,35.7857858 47.6090226,35.3253253 47.6090226,34.6846847 C47.6090226,34.1841842 47.4486216,33.7637638 47.1278195,33.4234234 C46.8070175,33.0830831 46.3558897,32.9029029 45.7744361,32.8828829 Z')\n            .attr('fill', '#000')\n            .attr('fill-rule', '#nonzero')\n            .attr('stroke', 'black')\n            .attr('stroke-width', '1')\n            .attr('transform', 'translate(45.000000, 24.000000) scale(1, -1) translate(-45.000000, -24.000000)');\n        symbol.append('path')\n            .attr('d', 'M0,10.9272031 C0,10.9272031 0,11.1181354 0,11.5 C0,11.8818646 0.21021021,12.1756066 0.630630631,12.3812261 L35.0900901,12.3812261 C31.6066066,14.9367816 29.4594595,18.2120051 28.6486486,22.2068966 C28.6486486,22.2362708 28.6486486,22.2803321 28.6486486,22.3390805 C28.6486486,22.3978289 28.6336336,22.4418902 28.6036036,22.4712644 C28.6036036,22.8237548 28.8588589,23 29.3693694,23 L29.5045045,23 C29.7747748,23 29.954955,22.9853129 30.045045,22.9559387 C30.1351351,22.9265645 30.2252252,22.8678161 30.3153153,22.7796935 C30.4054054,22.6915709 30.4504505,22.559387 30.4504505,22.3831418 C30.4504505,22.2068966 30.4954955,21.9719029 30.5855856,21.6781609 C30.6756757,21.3844189 30.7957958,21.0172414 30.9459459,20.5766284 C31.6066066,18.6085568 32.7027027,16.8461047 34.2342342,15.289272 C35.7657658,13.7324393 37.5525526,12.6309068 39.5945946,11.9846743 C39.8648649,11.8965517 40,11.7349936 40,11.5 C40,11.3237548 39.9249249,11.1915709 39.7747748,11.1034483 C39.6246246,11.0153257 39.2642643,10.8684547 38.6936937,10.6628352 C38.1231231,10.4572158 37.5525526,10.1781609 36.981982,9.8256705 C35.7507508,9.06194125 34.6846847,8.1807152 33.7837838,7.18199234 C32.8828829,6.18326948 32.2072072,5.19923372 31.7567568,4.22988506 C31.3063063,3.2605364 30.990991,2.52618135 30.8108108,2.02681992 C30.6306306,1.52745849 30.5105105,1.07215837 30.4504505,0.66091954 C30.3903904,0.367177522 30.3153153,0.190932312 30.2252252,0.132183908 C30.1351351,0.0734355045 29.8948949,0.0293742018 29.5045045,0 C28.9039039,0 28.6036036,0.16155811 28.6036036,0.48467433 C28.6036036,0.690293742 28.6786787,1.05747126 28.8288288,1.5862069 C29.7897898,5.28735632 31.8768769,8.29821201 35.0900901,10.6187739 L0.630630631,10.6187739 C0.21021021,10.8243934 0,11.1181354 0,11.5 L0,10.9272031 Z')\n            .attr('fill', '#000')\n            .attr('fill-rule', '#nonzero')\n            .attr('stroke', 'black')\n            .attr('stroke-width', '1');\n        symbol.append('path')\n            .attr('d', 'M35,45.4022039 C35,41.8117539 33.9797101,38.3461892 31.9391304,35.0055096 C29.8985507,31.6648301 27.2681159,28.9954086 24.0478261,26.9972452 C20.8275362,24.9990817 17.5275362,24 14.1478261,24 C11.0550725,24 8.40869565,24.8898072 6.20869565,26.6694215 C4.00869565,28.4490358 2.62173913,31.040404 2.04782609,34.4435262 C2.01594203,34.6932966 2,35.3645546 2,36.4573003 C2,39.6418733 2.76521739,42.6703398 4.29565217,45.5426997 C5.82608696,48.4150597 7.8826087,50.959596 10.4652174,53.1763085 C14.4188406,56.3921028 18.3884058,58 22.373913,58 C23.5855072,58 24.3507246,57.9843893 24.6695652,57.953168 C27.7623188,57.5160698 30.2492754,56.1735537 32.1304348,53.9256198 C34.0115942,51.677686 34.9681159,48.8365473 35,45.4022039 Z M30,48.2229102 C30,50.9783282 29.2652778,53.130031 27.7958333,54.6780186 C26.3263889,56.2260062 24.4895833,57 22.2854167,57 C19.7298611,57 17.2701389,56.0712074 14.90625,54.2136223 C12.3506944,52.2631579 10.4020833,49.5232198 9.06041667,45.993808 C7.71875,42.4643963 7.03194444,39.1826625 7,36.1486068 C7,33.3622291 7.68680556,31.1486068 9.06041667,29.5077399 C10.4340278,27.8668731 12.2548611,27.0309598 14.5229167,27 C17.3979167,27 20.1291667,28.2229102 22.7166667,30.6687307 C25.3041667,33.1145511 27.26875,36.4427245 28.6104167,40.6532508 C29.5368056,43.5944272 30,46.1176471 30,48.2229102 Z')\n            .attr('fill', '#000')\n            .attr('fill-rule', '#nonzero')\n            .attr('stroke', 'black')\n            .attr('stroke-width', '1')\n            .attr('transform', 'translate(18.500000, 41.000000) scale(-1, 1) translate(-18.500000, -41.000000)');\n\n        if (delay) {\n            symbol.transition()\n                .delay(delay)\n                .duration(1000)\n                .style('opacity', .9);\n        }\n        return symbol;\n    },\n    weightW1: (svg, x, y, delay) => {\n        const symbol = svg.append('svg')\n            .attr('x', !!x ? x : 0)\n            .attr('y', !!y ? y : 0)\n            .attr('viewBox', '0 0 54 60')\n            .attr('width', '25')\n            .attr('height', '80')\n            .style('opacity', delay ? .0 : 1);\n        // .attr('width', 10)\n        // .attr('height', 42)\n        symbol.append('path')\n            .attr('d', 'M47.7790698,37.3573574 L47.4011628,37.2072072 C47.129845,37.1071071 46.7422481,37.007007 46.2383721,36.9069069 C45.7344961,36.8068068 45.1724806,36.7367367 44.5523256,36.6966967 L44,36.6966967 L44,38.0780781 L44.5523256,38.0780781 C45.4631783,38.1181181 46.3062016,38.2682683 47.0813953,38.5285285 C47.8565891,38.7887888 48.3992248,39.029029 48.7093023,39.2492492 C49.0193798,39.4694695 49.2906977,39.6896897 49.5232558,39.9099099 C49.5620155,39.96997 49.6782946,40 49.872093,40 C50.0465116,40 50.2112403,39.9399399 50.3662791,39.8198198 L50.3662791,30.8408408 L50.3953488,21.8318318 C50.5310078,21.6916917 50.6472868,21.6016016 50.744186,21.5615616 C50.8410853,21.5215215 51.0736434,21.4814815 51.4418605,21.4414414 C51.8100775,21.4014014 52.4108527,21.3813814 53.244186,21.3813814 L54,21.3813814 L54,20 L53.6802326,20 C53.2732558,20.0600601 51.7325581,20.0900901 49.0581395,20.0900901 C46.4224806,20.0900901 44.9011628,20.0600601 44.494186,20 L44.1453488,20 L44.1453488,21.3813814 L44.9011628,21.3813814 C45.3275194,21.3813814 45.6957364,21.3813814 46.005814,21.3813814 C46.3158915,21.3813814 46.5581395,21.3913914 46.7325581,21.4114114 C46.9069767,21.4314314 47.0620155,21.4614615 47.1976744,21.5015015 C47.3333333,21.5415415 47.4108527,21.5615616 47.4302326,21.5615616 C47.4496124,21.5615616 47.5077519,21.6116116 47.6046512,21.7117117 C47.7015504,21.8118118 47.7596899,21.8518519 47.7790698,21.8318318 L47.7790698,37.3573574 Z')\n            .attr('fill', '#000')\n            .attr('fill-rule', '#nonzero')\n            .attr('stroke', 'black')\n            .attr('stroke-width', '1')\n            .attr('transform', 'translate(49.000000, 30.000000) scale(1, -1) translate(-49.000000, -30.000000)');\n        symbol.append('path')\n            .attr('d', 'M18.5356068,34 C18.9849549,34 19.7873621,33.9839243 20.9428285,33.951773 C22.0982949,33.9196217 23.1735206,33.8874704 24.1685055,33.8553191 C25.8054162,33.8553191 27.1695085,33.8713948 28.2607823,33.9035461 C29.3520562,33.9356974 29.9779338,33.951773 30.1384152,33.951773 C30.7161484,33.951773 31.005015,33.8231678 31.005015,33.5659574 C31.005015,33.4373522 30.9568706,33.1962175 30.8605817,32.8425532 C30.7001003,32.2638298 30.555667,31.9423168 30.4272818,31.8780142 C30.2988967,31.8137116 29.9458375,31.7815603 29.3681043,31.7815603 C28.5656971,31.749409 27.9237713,31.6690307 27.442327,31.5404255 C26.9608826,31.4118203 26.6238716,31.2832151 26.4312939,31.1546099 C26.2387161,31.0260047 26.1905717,30.8813239 26.2868606,30.7205674 C26.2868606,30.3347518 26.5436309,26.508747 27.0571715,19.2425532 C27.5707121,11.9763593 27.8274824,8.13427896 27.8274824,7.71631206 L27.9237713,7.86099291 C27.9879639,7.95744681 28.0842528,8.11820331 28.2126379,8.34326241 C28.3410231,8.56832151 28.5336008,8.87375887 28.7903711,9.25957447 C29.0471414,9.64539007 29.3199599,10.1276596 29.6088265,10.706383 C29.8976931,11.2851064 30.2828485,11.944208 30.7642929,12.6836879 C31.2457372,13.4231678 31.7271815,14.291253 32.2086259,15.2879433 C32.6900702,16.2846336 33.3159478,17.3617021 34.0862588,18.5191489 C37.4242728,24.4349882 39.3179539,27.8108747 39.7673019,28.6468085 C40.2166499,29.4827423 40.4573721,29.9971631 40.4894684,30.1900709 C40.4894684,30.6723404 40.1845537,31.058156 39.5747242,31.3475177 C38.9648947,31.6368794 38.2908726,31.7815603 37.552658,31.7815603 C37.1033099,31.7815603 36.8786359,31.9423168 36.8786359,32.2638298 C36.8786359,32.3602837 36.9107322,32.5692671 36.9749248,32.8907801 C37.1033099,33.4052009 37.1995988,33.7106383 37.2637914,33.8070922 C37.327984,33.9035461 37.552658,33.951773 37.9378134,33.951773 C38.0341023,33.951773 38.3069208,33.951773 38.7562688,33.951773 C39.2056169,33.951773 39.8314945,33.951773 40.6339017,33.951773 C41.4363089,33.951773 42.3029087,33.9356974 43.2337011,33.9035461 C45.3520562,33.9035461 46.7161484,33.9356974 47.3259779,34 C47.775326,34 48,33.8231678 48,33.4695035 C48,33.2765957 47.9518556,33.0033097 47.8555667,32.6496454 C47.7592778,32.2959811 47.6469408,32.0548463 47.5185557,31.9262411 C47.3901705,31.7976359 47.2296891,31.749409 47.0371113,31.7815603 C46.330993,31.7815603 45.6890672,31.6851064 45.111334,31.4921986 C44.5336008,31.2992908 44.0521565,31.0742317 43.667001,30.8170213 C43.2818455,30.5598109 42.9769308,30.2865248 42.7522568,29.9971631 C42.5275827,29.7078014 42.335005,29.450591 42.1745236,29.2255319 L41.9819458,28.9361702 L33.8455366,14.6609929 C28.4533601,5.14420804 25.7412237,0.369739953 25.7091274,0.337588652 C25.5165496,0.112529551 25.1313942,0 24.553661,0 C24.0722166,0 23.7673019,0.0803782506 23.6389168,0.241134752 C23.5426279,0.337588652 23.2377131,4.29219858 22.7241725,12.1049645 C22.2106319,19.9177305 21.9378134,23.9527187 21.9057172,24.2099291 L21.327984,23.341844 C20.6218656,22.1522459 18.5677031,18.5673759 15.1654965,12.587234 C10.5436309,4.48510638 8.20060181,0.401891253 8.13640923,0.337588652 C8.07221665,0.273286052 7.99197593,0.208983452 7.89568706,0.144680851 C7.73520562,0.0482269504 7.44633902,0 7.02908726,0 C6.41925777,0 6.08224674,0.112529551 6.01805416,0.337588652 C6.01805416,0.434042553 5.66499498,5.56217494 4.95887663,15.7219858 C4.25275827,25.8817967 3.88365095,30.9938534 3.85155466,31.058156 C3.78736209,31.3475177 3.62688064,31.5243499 3.37011033,31.5886525 C3.11334002,31.6529551 2.48746239,31.7172577 1.49247743,31.7815603 L0.337011033,31.7815603 C0.112337011,32.0066194 0,32.1834515 0,32.3120567 C0.0320962889,33.0515366 0.240722166,33.6141844 0.625877633,34 L1.20361083,34 C2.55165496,33.9035461 4.15646941,33.8553191 6.01805416,33.8553191 C10.0300903,33.8553191 12.2286861,33.9035461 12.6138415,34 L13.0952859,34 C13.2878636,33.8070922 13.3841525,33.6624113 13.3841525,33.5659574 C13.3841525,33.4695035 13.3520562,33.1801418 13.2878636,32.6978723 C13.1273821,32.2156028 12.9829488,31.9101655 12.8545637,31.7815603 L11.8435306,31.7815603 C9.88565697,31.6851064 8.84252758,31.4118203 8.71414243,30.9617021 C9.67703109,16.172104 10.222668,8.39148936 10.3510532,7.61985816 L21.664995,27.5858156 L21.5687061,29.3702128 C21.4724173,30.7205674 21.3119358,31.4439716 21.0872618,31.5404255 C20.8946841,31.6690307 20.220662,31.749409 19.0651956,31.7815603 C18.4553661,31.7815603 18.0541625,31.8137116 17.8615848,31.8780142 C17.669007,31.9423168 17.5727182,32.0869976 17.5727182,32.3120567 C17.5727182,32.3763593 17.6048144,32.5692671 17.669007,32.8907801 C17.7011033,33.0193853 17.7331996,33.1640662 17.7652959,33.3248227 C17.7973922,33.4855792 17.8134403,33.5981087 17.8134403,33.6624113 C17.8134403,33.7267139 17.8615848,33.7910165 17.9578736,33.8553191 C18.0541625,33.9196217 18.1183551,33.951773 18.1504514,33.951773 C18.1825476,33.951773 18.3109328,33.9678487 18.5356068,34 Z')\n            .attr('fill', '#000')\n            .attr('fill-rule', '#nonzero')\n            .attr('stroke', 'black')\n            .attr('stroke-width', '1')\n            .attr('transform', 'translate(24.000000, 17.000000) scale(1, -1) translate(-24.000000, -17.000000) ');\n        if (delay) {\n            symbol.transition()\n                .delay(delay)\n                .duration(1000)\n                .style('opacity', .9);\n        }\n        return symbol;\n    },\n    weightW2: (svg, x, y, delay) => {\n        const symbol = svg.append('svg')\n            .attr('x', !!x ? x : 0)\n            .attr('y', !!y ? y : 0)\n            .attr('viewBox', '0 0 60 60')\n            .attr('width', '30')\n            .attr('height', '80')\n            .style('opacity', delay ? .0 : 1);\n        // .attr('width', 10)\n        // .attr('height', 42)\n        symbol.append('path')\n            .attr('d', 'M45.7744361,32.8828829 C45.2330827,32.8828829 44.802005,33.0630631 44.481203,33.4234234 C44.160401,33.7837838 44,34.2242242 44,34.7447447 C44,36.1661662 44.5313283,37.3973974 45.593985,38.4384384 C46.6566416,39.4794795 47.9799499,40 49.5639098,40 C51.3884712,40 52.9122807,39.4394394 54.1353383,38.3183183 C55.358396,37.1971972 55.9799499,35.7457457 56,33.963964 C56,33.1031031 55.7994987,32.2822823 55.3984962,31.5015015 C54.9974937,30.7207207 54.5162907,30.04004 53.9548872,29.4594595 C53.3934837,28.8788789 52.5914787,28.1381381 51.5488722,27.2372372 C50.8270677,26.6166166 49.8245614,25.6956957 48.5413534,24.4744745 L46.7669173,22.7927928 L49.0526316,22.7627628 C52.2005013,22.7627628 53.8746867,22.8128128 54.075188,22.9129129 C54.2155388,22.952953 54.4561404,23.8438438 54.7969925,25.5855856 L54.7969925,25.6756757 L56,25.6756757 L56,25.5855856 C55.9799499,25.5255255 55.8496241,24.6146146 55.6090226,22.8528529 C55.3684211,21.0910911 55.2180451,20.1701702 55.1578947,20.0900901 L55.1578947,20 L44,20 L44,20.5705706 L44,20.9309309 C44,21.0710711 44.0601504,21.2212212 44.1804511,21.3813814 C44.3007519,21.5415415 44.6015038,21.8918919 45.0827068,22.4324324 C45.6641604,23.0730731 46.1654135,23.6336336 46.5864662,24.1141141 C46.7669173,24.3143143 47.1077694,24.6846847 47.6090226,25.2252252 C48.1102757,25.7657658 48.4511278,26.1361361 48.6315789,26.3363363 C48.8120301,26.5365365 49.1027569,26.8668669 49.5037594,27.3273273 C49.9047619,27.7877878 50.1854637,28.1281281 50.3458647,28.3483483 C50.5062657,28.5685686 50.7368421,28.8688689 51.037594,29.2492492 C51.3383459,29.6296296 51.5488722,29.9499499 51.6691729,30.2102102 C51.7894737,30.4704705 51.9398496,30.7607608 52.1203008,31.0810811 C52.3007519,31.4014014 52.4310777,31.7217217 52.5112782,32.042042 C52.5914787,32.3623624 52.6616541,32.6626627 52.7218045,32.9429429 C52.7819549,33.2232232 52.8120301,33.5535536 52.8120301,33.9339339 C52.8120301,35.1951952 52.4711779,36.2862863 51.7894737,37.2072072 C51.1077694,38.1281281 50.1353383,38.5885886 48.8721805,38.5885886 C48.2105263,38.5885886 47.6290727,38.4184184 47.1278195,38.0780781 C46.6265664,37.7377377 46.2756892,37.4074074 46.075188,37.0870871 C45.8746867,36.7667668 45.7744361,36.5765766 45.7744361,36.5165165 C45.7744361,36.4964965 45.8245614,36.4864865 45.924812,36.4864865 C46.2857143,36.4864865 46.6566416,36.3463463 47.037594,36.0660661 C47.4185464,35.7857858 47.6090226,35.3253253 47.6090226,34.6846847 C47.6090226,34.1841842 47.4486216,33.7637638 47.1278195,33.4234234 C46.8070175,33.0830831 46.3558897,32.9029029 45.7744361,32.8828829 Z')\n            .attr('fill', '#000')\n            .attr('fill-rule', '#nonzero')\n            .attr('stroke', 'black')\n            .attr('stroke-width', '1')\n            .attr('transform', 'translate(49.000000, 30.000000) scale(1, -1) translate(-49.000000, -30.000000)');\n        symbol.append('path')\n            .attr('d', 'M18.5356068,34 C18.9849549,34 19.7873621,33.9839243 20.9428285,33.951773 C22.0982949,33.9196217 23.1735206,33.8874704 24.1685055,33.8553191 C25.8054162,33.8553191 27.1695085,33.8713948 28.2607823,33.9035461 C29.3520562,33.9356974 29.9779338,33.951773 30.1384152,33.951773 C30.7161484,33.951773 31.005015,33.8231678 31.005015,33.5659574 C31.005015,33.4373522 30.9568706,33.1962175 30.8605817,32.8425532 C30.7001003,32.2638298 30.555667,31.9423168 30.4272818,31.8780142 C30.2988967,31.8137116 29.9458375,31.7815603 29.3681043,31.7815603 C28.5656971,31.749409 27.9237713,31.6690307 27.442327,31.5404255 C26.9608826,31.4118203 26.6238716,31.2832151 26.4312939,31.1546099 C26.2387161,31.0260047 26.1905717,30.8813239 26.2868606,30.7205674 C26.2868606,30.3347518 26.5436309,26.508747 27.0571715,19.2425532 C27.5707121,11.9763593 27.8274824,8.13427896 27.8274824,7.71631206 L27.9237713,7.86099291 C27.9879639,7.95744681 28.0842528,8.11820331 28.2126379,8.34326241 C28.3410231,8.56832151 28.5336008,8.87375887 28.7903711,9.25957447 C29.0471414,9.64539007 29.3199599,10.1276596 29.6088265,10.706383 C29.8976931,11.2851064 30.2828485,11.944208 30.7642929,12.6836879 C31.2457372,13.4231678 31.7271815,14.291253 32.2086259,15.2879433 C32.6900702,16.2846336 33.3159478,17.3617021 34.0862588,18.5191489 C37.4242728,24.4349882 39.3179539,27.8108747 39.7673019,28.6468085 C40.2166499,29.4827423 40.4573721,29.9971631 40.4894684,30.1900709 C40.4894684,30.6723404 40.1845537,31.058156 39.5747242,31.3475177 C38.9648947,31.6368794 38.2908726,31.7815603 37.552658,31.7815603 C37.1033099,31.7815603 36.8786359,31.9423168 36.8786359,32.2638298 C36.8786359,32.3602837 36.9107322,32.5692671 36.9749248,32.8907801 C37.1033099,33.4052009 37.1995988,33.7106383 37.2637914,33.8070922 C37.327984,33.9035461 37.552658,33.951773 37.9378134,33.951773 C38.0341023,33.951773 38.3069208,33.951773 38.7562688,33.951773 C39.2056169,33.951773 39.8314945,33.951773 40.6339017,33.951773 C41.4363089,33.951773 42.3029087,33.9356974 43.2337011,33.9035461 C45.3520562,33.9035461 46.7161484,33.9356974 47.3259779,34 C47.775326,34 48,33.8231678 48,33.4695035 C48,33.2765957 47.9518556,33.0033097 47.8555667,32.6496454 C47.7592778,32.2959811 47.6469408,32.0548463 47.5185557,31.9262411 C47.3901705,31.7976359 47.2296891,31.749409 47.0371113,31.7815603 C46.330993,31.7815603 45.6890672,31.6851064 45.111334,31.4921986 C44.5336008,31.2992908 44.0521565,31.0742317 43.667001,30.8170213 C43.2818455,30.5598109 42.9769308,30.2865248 42.7522568,29.9971631 C42.5275827,29.7078014 42.335005,29.450591 42.1745236,29.2255319 L41.9819458,28.9361702 L33.8455366,14.6609929 C28.4533601,5.14420804 25.7412237,0.369739953 25.7091274,0.337588652 C25.5165496,0.112529551 25.1313942,0 24.553661,0 C24.0722166,0 23.7673019,0.0803782506 23.6389168,0.241134752 C23.5426279,0.337588652 23.2377131,4.29219858 22.7241725,12.1049645 C22.2106319,19.9177305 21.9378134,23.9527187 21.9057172,24.2099291 L21.327984,23.341844 C20.6218656,22.1522459 18.5677031,18.5673759 15.1654965,12.587234 C10.5436309,4.48510638 8.20060181,0.401891253 8.13640923,0.337588652 C8.07221665,0.273286052 7.99197593,0.208983452 7.89568706,0.144680851 C7.73520562,0.0482269504 7.44633902,0 7.02908726,0 C6.41925777,0 6.08224674,0.112529551 6.01805416,0.337588652 C6.01805416,0.434042553 5.66499498,5.56217494 4.95887663,15.7219858 C4.25275827,25.8817967 3.88365095,30.9938534 3.85155466,31.058156 C3.78736209,31.3475177 3.62688064,31.5243499 3.37011033,31.5886525 C3.11334002,31.6529551 2.48746239,31.7172577 1.49247743,31.7815603 L0.337011033,31.7815603 C0.112337011,32.0066194 0,32.1834515 0,32.3120567 C0.0320962889,33.0515366 0.240722166,33.6141844 0.625877633,34 L1.20361083,34 C2.55165496,33.9035461 4.15646941,33.8553191 6.01805416,33.8553191 C10.0300903,33.8553191 12.2286861,33.9035461 12.6138415,34 L13.0952859,34 C13.2878636,33.8070922 13.3841525,33.6624113 13.3841525,33.5659574 C13.3841525,33.4695035 13.3520562,33.1801418 13.2878636,32.6978723 C13.1273821,32.2156028 12.9829488,31.9101655 12.8545637,31.7815603 L11.8435306,31.7815603 C9.88565697,31.6851064 8.84252758,31.4118203 8.71414243,30.9617021 C9.67703109,16.172104 10.222668,8.39148936 10.3510532,7.61985816 L21.664995,27.5858156 L21.5687061,29.3702128 C21.4724173,30.7205674 21.3119358,31.4439716 21.0872618,31.5404255 C20.8946841,31.6690307 20.220662,31.749409 19.0651956,31.7815603 C18.4553661,31.7815603 18.0541625,31.8137116 17.8615848,31.8780142 C17.669007,31.9423168 17.5727182,32.0869976 17.5727182,32.3120567 C17.5727182,32.3763593 17.6048144,32.5692671 17.669007,32.8907801 C17.7011033,33.0193853 17.7331996,33.1640662 17.7652959,33.3248227 C17.7973922,33.4855792 17.8134403,33.5981087 17.8134403,33.6624113 C17.8134403,33.7267139 17.8615848,33.7910165 17.9578736,33.8553191 C18.0541625,33.9196217 18.1183551,33.951773 18.1504514,33.951773 C18.1825476,33.951773 18.3109328,33.9678487 18.5356068,34 Z')\n            .attr('fill', '#000')\n            .attr('fill-rule', '#nonzero')\n            .attr('stroke', 'black')\n            .attr('stroke-width', '1')\n            .attr('transform', 'translate(24.000000, 17.000000) scale(1, -1) translate(-24.000000, -17.000000) ');\n        if (delay) {\n            symbol.transition()\n                .delay(delay)\n                .duration(1000)\n                .style('opacity', .9);\n        }\n        return symbol;\n    },\n    assignment: (svg, x, y, delay) => {\n        const symbol = svg.append('svg')\n            .attr('x', !!x ? x : 0)\n            .attr('y', !!y ? y : 0)\n            .attr('viewBox', '0 0 60 60')\n            .attr('width', '30')\n            .attr('height', '80')\n            .style('opacity', delay ? .0 : 1);\n        symbol.append('path')\n            .attr('d', 'M0.5,0.5 L30.5,0.5')\n            .attr('fill', '#000')\n            .attr('fill-rule', '#nonzero')\n            .attr('stroke', '#000')\n            .attr('stroke-width', '3');\n        symbol.append('path')\n            .attr('d', 'M0.5,20.5 L30.5,20.5')\n            .attr('fill', '#000')\n            .attr('fill-rule', '#nonzero')\n            .attr('stroke', '#000')\n            .attr('stroke-width', '3');\n        if (delay) {\n            symbol.transition()\n                .delay(delay)\n                .duration(1000)\n                .style('opacity', .9);\n        }\n        return symbol;\n    },\n    minus: (svg, x, y, delay) => {\n        const symbol = svg.append('svg')\n            .attr('x', !!x ? x : 0)\n            .attr('y', !!y ? y : 0)\n            .attr('viewBox', '0 0 60 60')\n            .attr('width', '30')\n            .attr('height', '80')\n            .style('opacity', delay ? .0 : 1);\n        // .attr('width', 10)\n        // .attr('height', 42)\n        symbol.append('path')\n            .attr('d', 'M0.5,0.5 L30.5,0.5')\n            .attr('fill', '#000')\n            .attr('fill-rule', '#nonzero')\n            .attr('stroke', '#000')\n            .attr('stroke-width', '4');\n        if (delay) {\n            symbol.transition()\n                .delay(delay)\n                .duration(1000)\n                .style('opacity', .9);\n        }\n        return symbol;\n    },\n};","import React, {Component} from 'react';\nimport { renderToStaticMarkup } from 'react-dom/server'\nimport {withStyles} from '@material-ui/core/styles';\nimport './Trainig.css';\nimport StepperNN from './StepperNN';\nimport Typography from \"@material-ui/core/es/Typography/Typography\";\nimport Modal from '@material-ui/core/Modal';\nimport symbol from './symbolSVG';\nconst { Provider, Node } = require(\"@nteract/mathjax\");\nconst d3 = require('d3');\nconst math = require('mathjs');\n\nconst styles = theme => ({\n    root: {\n        width: 300,\n    },\n    slider: {\n        padding: '22px 0px',\n    },\n    thumbIcon: {\n        borderRadius: '50%',\n    },\n    thumbIconWrapper: {\n        backgroundColor: '#fff',\n        width: 'auto',\n        height: 'auto  '\n    },\n    paper: {\n        position: 'absolute',\n        width: theme.spacing.unit * 50,\n        backgroundColor: theme.palette.background.paper,\n        boxShadow: theme.shadows[5],\n        padding: theme.spacing.unit * 4,\n        outline: 'none',\n    },\n});\n\nclass Training extends Component {\n    constructor(props) {\n        super(props);\n        const state = {\n            oneInArr: [0, 0, 1, 0, 1, 1, 1, 0, 1, 0, 0, 1, 0, 0, 1],\n            expectedOutputArr: [0, 0, 1, 0, 0, 0, 0, 0, 0],\n            numberOfInputNeuron: 15,\n            numberOfNeuronInHiddenLayer: 15,\n            numberOfOutputNeuron: 9,\n            widthOfCell: 20,\n            heightOfCell: 20,\n            counter: 0,\n            width: 1280,\n            height: 645,\n            radius: 18,\n            widthOfDesr: 35,\n            hiddenLayers: 1, //don't change\n            selectedStep: 0,\n            descrFormulaOne: String.raw`\\overrightarrow{O}`,\n            descrFormulaTwo: String.raw`W_1`,\n            currentStepFormula: this.getStepContent(0),\n            currentDescription: this.getStepDescription(0),\n            currentStep: 0,\n            matrixSvgOne: null,\n            matrixSvgTwo: null,\n            isModalOpen: false,\n            weightOneData: this.generateWeight(15, 15),\n            weightTwoData: this.generateWeight(15, 9),\n            sizeOfPicture: {h:5, w:3},\n        };\n        this.state = {\n            ...state,\n            input: this.prepareMatrixData(state.numberOfInputNeuron, 1, state.oneInArr, false, state.widthOfCell, state.heightOfCell, 0),\n            expectedOutput: this.prepareMatrixData(state.numberOfOutputNeuron, 1, state.expectedOutputArr, false,  state.widthOfCell, state.heightOfCell, 1),\n            weightOneMatrixData: this.prepareMatrixData(state.numberOfInputNeuron, state.numberOfNeuronInHiddenLayer, state.weightOneData, true, state.widthOfCell, state.heightOfCell, 1),\n            weightTwoMatrixData: this.prepareMatrixData(state.numberOfNeuronInHiddenLayer, state.numberOfOutputNeuron, state.weightTwoData, true, state.widthOfCell, state.heightOfCell, 1),\n            inputImageData: this.prepareMatrixData(state.sizeOfPicture.h, state.sizeOfPicture.w, state.oneInArr, false, state.widthOfCell, state.heightOfCell, 0) //TODO use constant\n\n    };\n    }\n\n    componentDidMount(props, state, root) {\n        const svg = d3.select(this.viz);\n        const svgGraph = svg\n            .append('svg')\n            .attr('y', -15);\n        const matrixSvg = svg.append('svg')\n            .attr('x', 20)\n            .attr('y', 20);\n        const svgInput = svg.append('svg');\n        //this.drawFirstMatrix(matrixSvg);\n        this.setState({svg, svgGraph, matrixSvg, svgInput});\n        this.updateChart(svgGraph);\n        this.setStep(0, matrixSvg, svgGraph, svgInput);\n    }\n\n    // componentDidUpdate(prevProps, prevState) {\n    //     //this.updateChart(null, this.state.svgGraph);\n    //     if (!!prevState.matrixSvg) {\n    //         this.setStep(0);\n    //     }\n    // }\n    generateWeight = (rows, columns) => {\n        let result = [];\n        for (let i = 0; i < rows; i++) {\n            let arr = [];\n            for (let j = 0; j < columns; j++) {\n                arr.push(Math.random()); // 0 (inclusive),  and 1 (exclusive)\n            }\n            result.push(arr);\n        }\n        return result;\n    };\n\n    getStepDescription = (step) => {\n        switch (step) {\n            case 0:\n                return {\n                    head: 'Welcome to visualisation of Neural network algorithm',\n                    body: (<div>\n                        <p>\n                            {'The neural network consists of neurons and connections between neurons. Neurons are here nodes. ' +\n                            'Connection are edges. As input we become some features about the given object. Output can show us to which group this object belongs (if aim of NN is classification).'}\n                        </p>\n                        <p>\n                            {'The most popular problem that has been tried to be solved with Neural Network(NN) is classification, ' +\n                            'for example classification of handwritten numbers. ' +\n                            'At the initial phase we take the input data and prepare this for the algorithm of NN and ' +\n                            'generate the weights for each data element randomly between 0 and 1.'}\n                        </p>\n                        <p>\n                            {'We\\'ll show you how the NN algorithm will work on example of recognition of number 1' +\n                            ' As features we take here every pixels of image and transform this to the range between 0 and 1.'}\n                        </p>\n                        <p>\n                            {'Here we show you the first part - training'}\n                        </p>\n                    </div>)\n\n                };\n            case 1:\n                return {\n                    head: 'Multiple input with weight',\n                    body: (<div>\n                        <p>\n                            {'The first step of algorithm show the multiply of the input(Vector O) with the weights(W) and take the sigmoid function of this.'}\n                        </p>\n                        <p>\n                            {'- vector and matrix multiplication'}\n                        </p>\n                        <p>\n                            {'- take a sigmoid fucntion of result'}\n                        </p>\n                    </div>)\n\n                };\n            case 2:\n                return {\n                    head: 'Multiple output  with weight',\n                    body: (<div>\n                        <p>\n                            {'The result of the step before we take as input for this step.'}\n                        </p>\n                        <p>\n                            {'- vector and matrix multiplication'}\n                        </p>\n                        <p>\n                            {'- take a sigmoid fucntion of result'}\n                        </p>\n                    </div>)\n\n                };\n            case 3:\n                return {\n                    head: 'Deviation of error',\n                    body: (<div>\n                        <p>\n                            {'By this step wir become already the output of NN. And by training phase is here most important place.'}\n                        </p>\n                        <p>\n                            {'We expect that NN give us possibility, which number we take to process. ' +\n                            'Cause the network didn\\'t learn the numbers. It give us the wrong result. ' +\n                            'Now we calculate the errors, how far we are from correct result and use this to adjust over weights.'}\n                        </p>\n                        <p>\n                            {'-  subtraction of NN the result  and expected output(t)'}\n                        </p>\n                    </div>)\n\n                };\n            case 4:\n                return {\n                    head: 'Welcome to visualisation of Neural network algorithm',\n                    body: (<div>\n                        <p>\n                            {''}\n                        </p>\n                    </div>)\n\n                };\n            case 5:\n                return {\n                    head: 'Welcome to visualisation of Neural network algorithm',\n                    body: (<div>\n                        <p>\n                            {''}\n                        </p>\n                    </div>)\n\n                };\n            case 6:\n                return {\n                    head: 'Welcome to visualisation of Neural network algorithm',\n                    body: (<div>\n                        <p>\n                            {''}\n                        </p>\n                    </div>)\n\n                };\n            case 7:\n                return {\n                    head: 'Welcome to visualisation of Neural network algorithm',\n                    body: (<div>\n                        <p>\n                            {''}\n                        </p>\n                    </div>)\n\n                };\n            case 8:\n                return {\n                    head: 'Welcome to visualisation of Neural network algorithm',\n                    body: (<div>\n                        <p>\n                            {''}\n                        </p>\n                    </div>)\n\n                };\n            case 9:\n                return {\n                    head: 'Correction coefficient 1',\n                    body: (<div>\n                        <p>\n                            {''}\n                        </p>\n                    </div>)\n\n                };\n            case 10:\n                return {\n                    head: 'Correction coefficient 2',\n                    body: (<div>\n                        <p>\n                            {''}\n                        </p>\n                    </div>)\n\n                };\n            case 11:\n                return {\n                    head: 'One cycle of training completed',\n                    body: (<div>\n                        <p>\n                            {'After the processing of one picture/data element is completed, algorithm take the next data and' +\n                            ' start the same process again.'}\n                        </p>\n                    </div>)\n\n                };\n            default:\n                return 'Algo take the next Data and start again.';\n        }\n    };\n\n    getStepContent = (step) => {\n        switch (step) {\n            case 0:\n                return '';\n            case 1:\n                return String.raw`\\overrightarrow{O^1} = S(\\overrightarrow{O}, W_1)`;\n            case 2:\n                return String.raw`\\overrightarrow{O^2} = S(\\overrightarrow{O^1}, W_2)`;\n            case 3:\n                return String.raw`\\overrightarrow{e} = \\begin{pmatrix} O^2_1 - t_1 \\\\ O^2_2 - t_2 \\\\ \\vdots \\\\ O^2_m - t_m \\\\ \\end{pmatrix}`;\n            // case 4:\n            //     return String.raw`E = \\frac{1}{2}\\{(O^2_1 - t_1)^2 + (O^2_2 - t_2)^2 + ... +(O^2_m - t_m)^2\\}`;\n            case 4:\n                return String.raw`D_2 = \\begin{pmatrix} O^2_1(1 - O^2_1) & \\cdots & \\cdots \\\\ \\cdots & O^2_2(1 - O^2_2) & \\cdots \\\\ \\cdots & \\cdots & O^2_m(1 - O^2_m)\\\\ \\end{pmatrix}`;\n            case 5:\n                return String.raw`D_1 = \\begin{pmatrix} O^1_1(1 - O^1_1) & \\cdots & \\cdots \\\\ \\cdots & O^1_2(1 - O^2_2) & \\cdots \\\\ \\cdots & \\cdots & O^1_k(1 - O^1_k)\\\\ \\end{pmatrix}`;\n            case 6:\n                return String.raw`\\overrightarrow{\\delta^2} = D_2 * \\overrightarrow{e}`;\n            case 7:\n                return String.raw`\\overrightarrow{\\delta^1} = D_1 * W_2 * \\overrightarrow{e}`;\n            case 8:\n                return String.raw`\\overrightarrow{\\Delta w_2^T} = - \\gamma * \\overrightarrow{\\delta^2}`;\n            case 9:\n                return String.raw`\\overrightarrow{\\Delta w_1^T} = - \\gamma * \\overrightarrow{\\delta^1}`;\n            case 10:\n                return '';\n            default:\n                return '';\n        }\n    };\n\n    getStepFormulaDescription = (step) => {\n        switch (step) {\n            case 0:\n                return {\n                    descrFormulaOne: String.raw`\\overrightarrow{O}`,\n                    descrFormulaTwo: String.raw`W_1`\n                };\n            case 1:\n                return {\n                    descrFormulaOne: String.raw`\\overrightarrow{O}`,\n                    descrFormulaTwo: String.raw`W_1`\n                };\n            case 2:\n                return {\n                    descrFormulaOne: String.raw`\\overrightarrow{O^2}`,\n                    descrFormulaTwo: String.raw`W_2`\n                };\n            case 3:\n                return String.raw`\\overrightarrow{e} = \\begin{pmatrix} O^2_1 - t_1 \\\\ O^2_2 - t_2 \\\\ \\vdots \\\\ O^2_m - t_m \\\\ \\end{pmatrix}`;\n            case 4:\n                return String.raw`E = \\frac{1}{2}\\{(O^2_1 - t_1)^2 + (O^2_2 - t_2)^2 + ... +(O^2_m - t_m)^2\\}`;\n            case 5:\n                return String.raw`D_2 = \\begin{pmatrix} O^2_1(1 - O^2_1) & \\cdots & \\cdots \\\\ \\cdots & O^2_2(1 - O^2_2) & \\cdots \\\\ \\cdots & \\cdots & O^2_m(1 - O^2_m)\\\\ \\end{pmatrix}`;\n            case 6:\n                return String.raw`D_1 = \\begin{pmatrix} O^1_1(1 - O^1_1) & \\cdots & \\cdots \\\\ \\cdots & O^1_2(1 - O^2_2) & \\cdots \\\\ \\cdots & \\cdots & O^1_k(1 - O^1_k)\\\\ \\end{pmatrix}`;\n            case 7:\n                return String.raw`\\overrightarrow{\\delta^2} = D_2 * \\overrightarrow{e}`;\n            case 8:\n                return String.raw`\\overrightarrow{\\delta^1} = D_1 * W_2 * \\overrightarrow{e}`;\n            case 9:\n                return String.raw`\\overrightarrow{\\Delta w_2^T} = - \\gamma * \\overrightarrow{\\delta^2}`;\n            case 10:\n                return String.raw`\\overrightarrow{\\Delta w_1^T} = - \\gamma * \\overrightarrow{\\delta^1}`;\n            case 11:\n                return '';\n            default:\n                return '';\n        }\n    }\n\n    updateLeftView = (step, matrixSvg, svgGraph, svgInput) => {\n        const {widthOfCell, heightOfCell} = this.state;\n        switch (step) {\n            case 0: {\n                const {input, inputImageData, sizeOfPicture} = this.state;\n                const y = this.state.widthOfDesr;\n                const coordX = 28;\n                const coordY = 50;\n                if (!!this.state.svgInput) {\n                    this.moveSvgInputBack(svgInput); //input image\n                } else {\n                    this.drawOneDescr(svgInput, coordX + 20, coordY + 20, sizeOfPicture.w * widthOfCell, heightOfCell); // 20 - because separate svg-father\n                    this.drawOne(svgInput, inputImageData, coordX + 20, coordY + 20, 500); // 20 - because separate svg-father\n                }\n\n                this.drawArrowDown(matrixSvg, coordX + (sizeOfPicture.w * widthOfCell / 2), coordY + (sizeOfPicture.h + 1) * heightOfCell, 1500);\n                this.drawOneAsMatrix(matrixSvg, inputImageData, coordX, coordY + sizeOfPicture.h*heightOfCell + 50, 2500);\n                this.drawArrowRight(matrixSvg, coordX + (sizeOfPicture.w+1) * widthOfCell, coordY + sizeOfPicture.h*heightOfCell + 50 +\n                    (heightOfCell * sizeOfPicture.h/2), 3500);\n                this.drawFirstMatrix(matrixSvg, input, coordX + (sizeOfPicture.w+1)*widthOfCell + 125, y, 4500, symbol.inputO);\n                this.drawArrowRight(matrixSvg, 200 + coordX + (sizeOfPicture.w+1) * widthOfCell, coordY + sizeOfPicture.h*heightOfCell + 50 +\n                    (heightOfCell * sizeOfPicture.h/2), 5500); // = 200 - is not calculated\n                this.updateChart(svgGraph, 6500, this.state.oneInArr);\n                this.setState({input});\n                return;\n            }\n            case 1: {\n                const coordX = 28;\n                const coordY = 50;\n                const {widthOfCell, weightOneMatrixData, input, sizeOfPicture} = this.state;\n\n                const yPosition = svgInput.attr('y'); //out image\n                this.moveSvgInput(svgInput, coordX + 20, coordY + 2, sizeOfPicture, widthOfCell, 200);\n                this.drawFirstMatrix(matrixSvg, input, 28, 60, yPosition > 0 ? 200 : 1200, symbol.inputO);\n                this.drawSecondMatrix(matrixSvg, weightOneMatrixData, 128, 60, 2500, symbol.weightW1);\n                symbol.assignment(matrixSvg, 350, 250, 3500);\n                symbol.outputO1(matrixSvg, 370, 245, 3500);\n                this.calculate(step);\n                return;\n            }\n            case 2: {\n                const {outputOneMatrixData, weightTwoMatrixData} = this.state;\n                this.drawFirstMatrix(matrixSvg, outputOneMatrixData, 28, 60, 200, symbol.outputO1);\n                this.drawSecondMatrix(matrixSvg, weightTwoMatrixData, 128, 60, 2500, symbol.weightW2);\n                symbol.assignment(matrixSvg, 350, 250, 3500);\n                symbol.outputO2(matrixSvg, 370, 245, 3500);\n                this.calculate(step);\n                return;\n            }\n            case 3: {\n                const {outputTwoMatrixData, expectedOutput, widthOfCell} = this.state;\n                this.drawFirstMatrix(matrixSvg, outputTwoMatrixData, 28, 60, 200, symbol.outputO2, widthOfCell + 20);\n                symbol.minus(matrixSvg, 80 + 20, 240, 1000);\n                this.drawFirstMatrix(matrixSvg, expectedOutput, 128 + 20, 60, 1200, 't');\n                symbol.assignment(matrixSvg, 180 + 20, 238, 2000);\n                this.calculate(step);\n                matrixSvg.append('text').text('e')\n                    .attr(\"x\", 200 + 20)\n                    .attr(\"y\", 273)\n                    .attr(\"font-family\", \"sans-serif\")\n                    .attr(\"font-size\", \"24px\")\n                    .style('opacity', .0)\n                    .transition()\n                    .delay(2000)\n                    .duration(1000)\n                    .style('opacity', .9);\n                return;\n            }\n            case 4: {\n                matrixSvg.append('text').text('This step is in implementing stage.')\n                    .attr(\"x\", 0)\n                    .attr(\"y\", 60)\n                    .attr(\"font-family\", \"sans-serif\")\n                    .attr(\"font-size\", \"24px\")\n                    .style('opacity', .0)\n                    .transition()\n                    .delay(500)\n                    .duration(1000)\n                    .style('opacity', .9);\n                return;\n            }\n            case 5: {\n                matrixSvg.append('text').text('This step is in implementing stage.')\n                    .attr(\"x\", 0)\n                    .attr(\"y\", 60)\n                    .attr(\"font-family\", \"sans-serif\")\n                    .attr(\"font-size\", \"24px\")\n                    .style('opacity', .0)\n                    .transition()\n                    .delay(500)\n                    .duration(1000)\n                    .style('opacity', .9);\n                return;\n            }\n            case 6: {\n                matrixSvg.append('text').text('This step is in implementing stage.')\n                    .attr(\"x\", 0)\n                    .attr(\"y\", 60)\n                    .attr(\"font-family\", \"sans-serif\")\n                    .attr(\"font-size\", \"24px\")\n                    .style('opacity', .0)\n                    .transition()\n                    .delay(500)\n                    .duration(1000)\n                    .style('opacity', .9);\n                return;\n            }\n            case 7: {\n                matrixSvg.append('text').text('This step is in implementing stage.')\n                    .attr(\"x\", 0)\n                    .attr(\"y\", 60)\n                    .attr(\"font-family\", \"sans-serif\")\n                    .attr(\"font-size\", \"24px\")\n                    .style('opacity', .0)\n                    .transition()\n                    .delay(500)\n                    .duration(1000)\n                    .style('opacity', .9);\n                return;\n            }\n            case 8: {\n                matrixSvg.append('text').text('This step is in implementing stage.')\n                    .attr(\"x\", 0)\n                    .attr(\"y\", 60)\n                    .attr(\"font-family\", \"sans-serif\")\n                    .attr(\"font-size\", \"24px\")\n                    .style('opacity', .0)\n                    .transition()\n                    .delay(500)\n                    .duration(1000)\n                    .style('opacity', .9);\n                return;\n            }\n            case 9: {\n                matrixSvg.append('text').text('This step is in implementing stage.')\n                    .attr(\"x\", 0)\n                    .attr(\"y\", 60)\n                    .attr(\"font-family\", \"sans-serif\")\n                    .attr(\"font-size\", \"24px\")\n                    .style('opacity', .0)\n                    .transition()\n                    .delay(500)\n                    .duration(1000)\n                    .style('opacity', .9);\n                return;\n            }\n            case 10: {\n                matrixSvg.append('text').text('This step is in implementing stage.')\n                    .attr(\"x\", 0)\n                    .attr(\"y\", 60)\n                    .attr(\"font-family\", \"sans-serif\")\n                    .attr(\"font-size\", \"24px\")\n                    .style('opacity', .0)\n                    .transition()\n                    .delay(500)\n                    .duration(1000)\n                    .style('opacity', .9);\n                return;\n            }\n            default:\n                return;\n        }\n    };\n\n    calculate = (step) => {\n        switch (step) {\n            case 1: {\n                const inputVector = math.matrix(this.state.oneInArr);\n                const weightOne = math.matrix(this.state.weightOneData);\n                const hiddenLayerVector = math.multiply(inputVector, weightOne);\n                const outputOneVector = hiddenLayerVector.map(value => 1 / (1 + Math.exp(-value))); // sigmoid function\n                this.updateChart(this.state.svgGraph, 1000, this.state.oneInArr, outputOneVector.toArray());\n                const outputOneMatrixData = this.prepareMatrixData(this.state.numberOfNeuronInHiddenLayer, 1,\n                    outputOneVector.toArray(), false, this.state.widthOfCell, this.state.heightOfCell, 1);\n                this.setState({outputOneMatrixData, outputOne: outputOneVector.toArray()});\n                return;\n            }\n            case 2: {\n                const outputOne = math.matrix(this.state.outputOne);\n                const weightTwo = math.matrix(this.state.weightTwoData);\n                let outputVector = math.multiply(outputOne, weightTwo);\n                const outputTwoVector = outputVector.map(value => 1 / (1 + Math.exp(-value))); // sigmoid function\n                this.updateChart(this.state.svgGraph, 1000, this.state.oneInArr, this.state.outputOne, outputTwoVector.toArray());\n                const outputTwoMatrixData = this.prepareMatrixData(this.state.numberOfOutputNeuron, 1,\n                    outputTwoVector.toArray(), false, this.state.widthOfCell + 20, this.state.heightOfCell, 3);\n                this.setState({outputTwoMatrixData, outputTwo: outputTwoVector.toArray()});\n                return;\n            }\n            case 3: {\n                const outputTwo = math.matrix(this.state.outputTwo);\n                const expectedOutput = math.matrix(this.state.expectedOutputArr);\n                let error = math.subtract(outputTwo, expectedOutput);\n                error = error.map(value =>Math.abs(value));\n                // const outputTwoMatrixData = this.prepareMatrixData(this.state.numberOfOutputNeuron, 1,\n                //     outputTwoVector.toArray(), true, this.state.widthOfCell, this.state.heightOfCell);\n                this.setState({error: error.toArray()});\n                return;\n            }\n            default: {\n                return;\n            }\n        }\n    };\n\n    setStep = (currentStep, svgNew, svgGraphNew, svgInputNew) => {\n        const currentStepFormula = this.getStepContent(currentStep);\n        const currentDescription = this.getStepDescription(currentStep);\n        const {descrFormulaOne, descrFormulaTwo} = this.getStepFormulaDescription(currentStep);\n        this.setState({\n            currentStepFormula,\n            currentDescription,\n            currentStep,\n            descrFormulaOne: descrFormulaOne,\n            descrFormulaTwo: descrFormulaTwo\n        });\n\n        const matrixSvg = !!svgNew ? svgNew : this.state.matrixSvg;\n        const svgGraph = !!svgGraphNew ? svgGraphNew : this.state.svgGraph;\n        const svgInput = !!svgInputNew ? svgInputNew : this.state.svgInput;\n        //TODO move this to switch\n        // before remove all move picture to the right\n        if (!!matrixSvg) {\n            matrixSvg.selectAll(\"*\").remove();\n        } else {\n            return;\n        }\n        this.updateLeftView(currentStep, matrixSvg, svgGraph, svgInput);\n    };\n\n    updateChart = (svgNew, delay, inputVector, hiddenLayerVector, outputVector) => {\n        // Define the div for the tooltip\n        const mschubY = 40;\n        const schubX = 300;\n        const firstXCoordinate = 450;\n        const svgGraphWithSymbols = svgNew; //???\n        let ipnutData = [];\n        let outputData = [];\n        let hiddenLayerData = [];\n        if (!!svgGraphWithSymbols) {  //TODO fix this\n            svgGraphWithSymbols.selectAll(\"*\").remove();\n        } else {\n            return;\n        }\n\n        const svgGraph = svgGraphWithSymbols\n            .append('svg')\n            .attr('x', 0)\n            .attr('y', 25);\n\n        const svgSymbolsPanel = svgGraphWithSymbols.append('svg');\n        //Daten vorbereiten\n        for (let i = 1; i <= this.state.numberOfInputNeuron; i++) {\n            ipnutData.push({\n                x: firstXCoordinate,\n                y: i * mschubY,\n                neuronValue: inputVector ? inputVector[i-1] : 0,\n                neuronValue: inputVector ? inputVector[i-1] : 0\n            })\n        }\n        for (let i = 1; i <= this.state.numberOfOutputNeuron; i++) {\n            outputData.push({\n                x: firstXCoordinate + ((this.state.hiddenLayers + 1) * schubX),\n                y: i * mschubY,\n                neuronValue: outputVector ? outputVector[i-1] : 0,\n                neuronValue: outputVector ? outputVector[i-1] : 0\n            })\n        }\n        hiddenLayerData.push(ipnutData);\n        for (let i = 1; i <= this.state.hiddenLayers; i++) {  // ===1\n            const currentLayer = [];\n            for (let j = 1; j <= this.state.numberOfInputNeuron; j++) {\n                currentLayer.push({\n                    x: firstXCoordinate + (i * schubX),\n                    y: j * mschubY,\n                    neuronValue: hiddenLayerVector ? hiddenLayerVector[j - 1] : 0, //will not for for all cases\n                    neuronValue: hiddenLayerVector ? hiddenLayerVector[j - 1] : 0\n                })\n            }\n            hiddenLayerData.push(currentLayer);\n        }\n        hiddenLayerData.push(outputData);\n\n        symbol.inputO(svgSymbolsPanel, firstXCoordinate - 8, 0);\n        symbol.weightW1(svgSymbolsPanel, firstXCoordinate + (this.state.hiddenLayers * schubX) / 2 - 10, 0);\n        symbol.outputO1(svgSymbolsPanel, firstXCoordinate + (this.state.hiddenLayers) * schubX - 8, 0);\n        symbol.weightW2(svgSymbolsPanel, firstXCoordinate + (this.state.hiddenLayers) * schubX + this.state.hiddenLayers * schubX / 2 - 10, 0);\n        symbol.outputO2(svgSymbolsPanel, firstXCoordinate + (this.state.hiddenLayers + 1) * schubX - 8, 0);\n        //draw the tooltip\n        const div = d3.select(this.refVis).append('div')\n            .attr('class', 'tooltip')\n            .style('opacity', 0);\n\n        const greens = d3.scaleSequential()\n            .domain([0, 100])\n            .interpolator(d3.interpolateGreens);\n        //draw the circles\n        // all layers\n        hiddenLayerData.forEach((currentLayer, layerIndex) => {\n            svgGraph.append('g')\n                .selectAll('circle')\n                .data(currentLayer)\n                .enter()\n                .append('circle')\n                .attr('r', this.state.radius)\n                .attr('cx', d => d.x)\n                .attr('cy', d => d.y)\n                .attr('stroke', 'black')\n                .style(\"stroke-width\", 2)\n                // .style(\"stroke-opacity\", 1)\n                .style('fill', '#FFF') //TODO !!!!!!!!\n                //.style('fill', '#47BA36') //TODO !!!!!!!!\n                .on('mouseover', d => {\n                    div.transition()\n                        .duration(200)\n                        .style('opacity', .9);\n                    div.html(() => layerIndex === 1 ?  'HiddenL' + layerIndex + '<br/>' + d.neuronValue.toFixed(5) :\n                        'Layer' + layerIndex + '<br/>' + d.neuronValue.toFixed(5))\n                        .style('left', (d3.event.pageX + 10) + 'px')\n                        .style('top', (d3.event.pageY - 18) + 'px');\n                }).on('mouseout', d => {\n                    div.transition()\n                        .duration(500)\n                        .style('opacity', 0);\n                }).transition()\n                .delay(delay ? delay : 0)\n                .duration(delay ? 2500 : 0)\n                .style('fill', d => {\n                    if (d.neuronValue === 1) {\n                        return '#47BA36';\n                    } else if (d.neuronValue === 0) {\n                        return '#FFF';\n                    }\n                    return greens((d.neuronValue.toFixed(2) * 100));\n                });\n        });\n\n        const preparedWeightOne = this.state.weightOneData.map(item => item.map(item2 => item2.toFixed(5)));\n        const preparedWeightTwo = this.state.weightTwoData.map(item => item.map(item2 => item2.toFixed(5)));\n        //draw the lines\n        hiddenLayerData.forEach((currentLayer, layerIndex) => {\n            if (layerIndex == 0) {\n                return;\n            }\n            const accessorLayer = hiddenLayerData[layerIndex - 1];\n            // take data of weights  from accessorLayer\n            //\n            const outspace = 3;\n            accessorLayer.forEach((accessor, accessorIndex) => {\n                svgGraph.append('g')\n                    .selectAll('line')\n                    .data(currentLayer)\n                    .enter()\n                    .append('line')\n                    .attr('stroke', '#b9baba')\n                    .attr('stroke-width', '2.5')\n                    .attr('x1', (d, index) => accessor.x + this.state.radius + outspace)\n                    .attr('y1', (d, index) => accessor.y)\n                    .attr('x2', d => d.x - this.state.radius - outspace)\n                    .attr('y2', d => d.y)\n                    .on('mouseover', (d, index) => {\n                        div.transition()\n                            .duration(200)\n                            .style('opacity', .9);\n                        div.html(() => layerIndex === 1 ? 'W1:' +  '<br/>' + preparedWeightOne[accessorIndex][index] :\n                            'W2:' +  '<br/>' + preparedWeightTwo[accessorIndex][index])\n                            .style('left', (d3.event.pageX + 10) + 'px')\n                            .style('top', (d3.event.pageY - 18) + 'px');\n                    })\n                    .on('mouseout', d => {\n                        div.transition()\n                            .duration(500)\n                            .style('opacity', 0);\n                    })\n\n            });\n        });\n    };\n\n    prepareMatrixData = (matrixRows, matrixColumns, inputData, isInputArrTwoDimensional, widthOfCell, heightOfCell, truncateNumber) => {\n        //TODO inputData - is vector or matrix\n        const data = [];\n        let xpos = 1; //starting xpos and ypos at 1 so the stroke will show when we make the grid below\n        let ypos = 1;\n        const width = widthOfCell ? widthOfCell : this.state.widthOfCell;\n        const height = heightOfCell ? heightOfCell : this.state.heightOfCell;\n        const click = 0;\n        let index = 0;\n        // iterate for rows\n        for (let row = 0; row < matrixRows; row++) {\n            data.push([]);\n\n            if (matrixColumns > 9) { //temporal, because to small place\n                for (let column = 0; column < 8; column++) {\n                    data[row].push({\n                        x: xpos,\n                        y: ypos,\n                        width: width,\n                        height: height,\n                        click: click,\n                        value: isInputArrTwoDimensional ? inputData[row][column].toFixed(truncateNumber) : inputData[index].toFixed(truncateNumber)\n                    });\n                    index ++;\n                    xpos += width;\n                }\n                data[row].push({\n                    x: xpos,\n                    y: ypos,\n                    width: width,\n                    height: height,\n                    click: click,\n                    value: '...'\n                });\n                index ++;\n                xpos += width;\n            } else {\n                // iterate for cells/columns inside rows\n                for (let column = 0; column < matrixColumns; column++) {\n                    data[row].push({\n                        x: xpos,\n                        y: ypos,\n                        width: width,\n                        height: height,\n                        click: click,\n                        value: isInputArrTwoDimensional ? inputData[row][column].toFixed(truncateNumber) : inputData[index].toFixed(truncateNumber)\n                    });\n                    // increment the x position. I.e. move it over by 50 (width variable)\n                    index ++;\n                    xpos += width;\n                }\n            }\n            // reset the x position after a row is complete\n            xpos = 1;\n            // increment the y position for the next row. Move it down 50 (height variable)\n            ypos += height;\n        }\n        return data;\n    };\n\n    drawRoundBracket = (svg, x1, y1, x2, y2, dy) => {\n        svg.append('path')\n            .attr('d', 'M ' + x1 +', '+ y1 + ' C ' + (x1-30) + ',' + (y1 + dy/3) + ' ' + (x1-30) + ',' + (y1 + dy*2/3)  + ' ' + x1 + ',' + (y1+dy)\n                + ' M ' + x1 +', '+ y1 + ' C ' + (x1-30) + ',' + (y1 + dy/3) + ' ' + (x1-30) + ',' + (y1 + dy*2/3)  + ' ' + x1 + ',' + (y1+dy))\n            .attr('stroke', 'black')\n            .attr('stroke-width', '2')\n            .attr('fill', 'none');\n        svg.append('path')\n            .attr('d', 'M ' + x2 +' '+ y2 + ' C ' + (x2+30) + ',' + (y2 + dy/3) + ' ' + (x2+30) + ',' + (y2 + dy*2/3)  + ' ' + x2 + ',' + (y2+dy)\n                + ' M ' + x2 +' '+ y2 + ' C ' + (x2+30) + ',' + (y2 + dy/3) + ' ' + (x2+30) + ',' + (y2 + dy*2/3)  + ' ' + x2 + ',' + (y2+dy))\n            .attr('stroke', 'black')\n            .attr('stroke-width', '2')\n            .attr('fill', 'none');\n    };\n\n    drawKreuz = (svg, x, y) => {\n        svg.append('svg')\n            .attr('x', x - 10) //from size of kreuz\n            .attr('y', y - 20)\n            .append('path')\n            .attr('d', 'M20,0 L0,40 M0,0 L20,40')\n            .attr('stroke', 'black')\n            .attr('stroke-width', '2');\n    };\n\n    drawMatrixDescr = (svg, x, y, width, refVisTemp, withoutArrow) => {\n        const svgTemp = d3.select(refVisTemp).html(); //TODO take only svg\n        const halfWidth = width / 2;\n        const widthOfDescr = 9; //TODO take this from selector\n        svg.append(\"svg\")\n            .attr('x', x + halfWidth - widthOfDescr)\n            .attr('y', withoutArrow ? y - 25 : y - 35)\n            .attr(\"width\", 35)\n            .attr(\"height\", 35)\n            .append(\"foreignObject\").attr(\"width\",35).attr(\"height\",35)\n            .html(svgTemp)\n        ;\n    };\n\n    drawFirstMatrix = (matrixSvg, matrixData, x_coord, y_coord, delay, descrFunction, width) => {\n        const newMatrixSvg =  matrixSvg.append('svg')\n            .attr('x', 0)  //28\n            .attr('y', 0)\n            .style('opacity', !!delay ? .0 : 1);\n        const x = x_coord ? x_coord: 28;\n        const y = y_coord ? y_coord + 60: 60;\n        const numberOfrows = this.state.numberOfInputNeuron;\n        const widthOfCell = width ? width : this.state.widthOfCell;\n        this.drawRoundBracket(newMatrixSvg, x, y-10, x + widthOfCell, y-10, this.state.widthOfCell*(numberOfrows+1));\n        //this.drawMatrixDescr(newMatrixSvg, x, y, width, this.refVisTempOne);\n        if (typeof descrFunction === \"function\") {\n            descrFunction(newMatrixSvg, x + widthOfCell / 2 - 10 , y - 60);\n        } else {\n            newMatrixSvg.append('text').text('T')\n                .attr(\"x\", x + 4)\n                .attr(\"y\", y - 19)\n                .attr(\"font-family\", \"sans-serif\")\n                .attr(\"font-size\", \"24px\");\n        }\n        const matrixSvgOne = this.drawMatrix(newMatrixSvg, matrixData, x, y);\n        this.setState({matrixSvgOne});\n\n        newMatrixSvg.transition()\n            .delay(delay)\n            .duration(1000)\n            .style('opacity', .9);\n    };\n\n    drawSecondMatrix = (matrixSvg,  matrixData, x_coord, y_coord, delay, descrFunction) => { // to think about this step\n        const newMatrixSvg =  matrixSvg.append('svg')\n            .attr('x', 0)  //28\n            .attr('y', 0)\n            .style('opacity', !!delay ? .0 : 1);\n        const x = x_coord ? x_coord: 128;\n        const y = y_coord ? y_coord + 60: 60;\n        const width = this.state.widthOfCell;\n        const heightOfCell = this.state.heightOfCell;\n        const numberOfInputNeuron = this.state.numberOfInputNeuron;\n        const numberOfNeuronInHiddenLayer = this.state.numberOfNeuronInHiddenLayer > 9 ?  9 : this.state.numberOfNeuronInHiddenLayer; //temporal because of place\n        //const data = matrixData ? matrixData : this.prepareMatrixData(numberOfInputNeuron, numberOfNeuronInHiddenLayer);\n        this.drawKreuz(newMatrixSvg, 28 + width + (128 - (28 + width))/2, y + numberOfInputNeuron*heightOfCell / 2);\n        this.drawRoundBracket(newMatrixSvg, x, y-10, x + (width*numberOfNeuronInHiddenLayer), y-10, heightOfCell * (numberOfInputNeuron + 1));\n        //this.drawMatrixDescr(newMatrixSvg, x, y, (width*numberOfNeuronInHiddenLayer), this.refVisTempTwo, true);\n        //draw description\n        descrFunction(newMatrixSvg, x + width*numberOfNeuronInHiddenLayer/2 - 10, y - 50);\n        const matrixSvgTwo = this.drawMatrix(newMatrixSvg, matrixData, x, y);\n        this.setState({matrixSvgTwo});\n\n        newMatrixSvg.transition()\n            .delay(delay)\n            .duration(1000)\n            .style('opacity', .9);\n    };\n\n    drawAssignment = (matrixSvg, x_coord, y_coord, delay) => {\n        const x = x_coord ? x_coord: 128;\n        const y = y_coord ? y_coord + 60: 60;\n        const width = this.state.widthOfCell;\n        const numberOfInputNeuron = this.state.numberOfInputNeuron;\n        const numberOfNeuronInHiddenLayer = this.state.numberOfNeuronInHiddenLayer;\n        const heightOfCell = this.state.heightOfCell;\n        symbol.assignment(matrixSvg, 128 +  width*(numberOfNeuronInHiddenLayer + 1)/2 +28, y + numberOfInputNeuron*heightOfCell / 2);\n\n    };\n\n    drawMatrix = (matrixSvg, data, x, y) => {\n        const newMatrixSvg =  matrixSvg.append('svg')\n            .attr('x', x)  //28\n            .attr('y', y);   //10\n        const row = newMatrixSvg.selectAll('.row')\n            .data(data)\n            .enter().append('g')\n            .attr('class', 'row');\n\n        const cell = row.selectAll('.cell')\n            .data(d => d)\n            .enter().append('g')\n            .attr('class', 'cell');\n\n        cell.append('rect')\n            .attr('class', 'square')\n            .attr('x', d => d.x)\n            .attr('y', d => d.y)\n            .attr('width', d => d.width)\n            .attr('height', d => d.height)\n            .style('fill', '#fff')\n            // .style('opacity', '0.1')\n            //.style('stroke', '#222')\n            // .style(\"stroke-opacity\", .9)\n            .on('click', function (d) {\n                d.click++;\n                if ((d.click) % 4 === 0) {\n                    d3.select(this).style('fill', '#fff');\n                }\n                if ((d.click) % 4 === 1) {\n                    d3.select(this).style('fill', '#2C93E8');\n                }\n                if ((d.click) % 4 === 2) {\n                    d3.select(this).style('fill', '#F56C4E');\n                }\n                if ((d.click) % 4 === 3) {\n                    d3.select(this).style('fill', '#838690');\n                }\n            });\n\n        cell.append('svg')\n            .attr('x', d => d.x)\n            .attr('y', d => d.y)\n            .attr('width', d => d.width)\n            .attr('height', d => d.height)\n            .append('text').text(d => d.value)\n            .attr('x', '50%')\n            .attr('y', '50%')\n            .attr('alignment-baseline', 'middle')\n            .attr('text-anchor', 'middle')\n            .attr(\"font-family\", \"sans-serif\")\n            .attr(\"font-size\", \"12px\");\n        return newMatrixSvg;\n    };\n\n    drawOneDescr = (matrixSvg, x, y, width, height) => {\n        const newMatrixSvg =  matrixSvg.append('svg')\n            .attr('x', x - 10)\n            .attr('y', y - height)\n            .attr('height', 30)\n            .attr('width', 200)\n            .append('text')\n            .text('Input image')\n            .attr('x', 0)\n            .attr('y', 15)\n            .style('fill', '#000');\n\n        return newMatrixSvg;\n    };\n\n    drawOne = (matrixSvg, data, x, y, delay) => {\n        const newMatrixSvg =  matrixSvg.append('svg')\n            .attr('x', x)  //28\n            .attr('y', y)\n            .style('opacity', .0);\n        const row = newMatrixSvg.selectAll('.row')\n            .data(data)\n            .enter().append('g')\n            .attr('class', 'row');\n\n        const cell = row.selectAll('.cell')\n            .data(d => d)\n            .enter().append('g')\n            .attr('class', 'cell');\n\n        cell.append('rect')\n            .attr('class', 'square')\n            .attr('x', d => d.x)\n            .attr('y', d => d.y)\n            .attr('width', d => d.width)\n            .attr('height', d => d.height)\n            .style('stroke', '#000000')\n            .style('fill', d =>  d.value === '1' ? '#47BA36' : '#fff');\n\n        newMatrixSvg.transition()\n            .delay(delay)\n            .duration(1000)\n            .style('opacity', .9);\n\n        return newMatrixSvg;\n    };\n\n    drawOneAsMatrix = (matrixSvg, data, x, y, delay) => {\n        const newMatrixSvg =  matrixSvg.append('svg')\n            .attr('x', x)  //28\n            .attr('y', y)\n            .style('opacity', .0);\n        const row = newMatrixSvg.selectAll('.row')\n            .data(data)\n            .enter().append('g')\n            .attr('class', 'row');\n\n        const cell = row.selectAll('.cell')\n            .data(d => d)\n            .enter().append('g')\n            .attr('class', 'cell');\n\n        cell.append('svg')\n            .attr('x', d => d.x)\n            .attr('y', d => d.y)\n            .attr('width', d => d.width)\n            .attr('height', d => d.height)\n            .append('text').text(d => d.value)\n            .attr('x', '50%')\n            .attr('y', '50%')\n            .attr('alignment-baseline', 'middle')\n            .attr('text-anchor', 'middle')\n            .attr(\"font-family\", \"sans-serif\")\n            .attr(\"font-size\", \"12px\")\n            .style('fill', d =>  d.value === '1' ? '#47BA36' : '#979797');\n\n        newMatrixSvg.transition()\n            .delay(delay)\n            .duration(1000)\n            .style('opacity', .9);\n\n        return newMatrixSvg;\n    };\n\n    drawArrowDown = (svg, x, y, delay) => {\n        const arrow = svg.append('svg')\n            .attr('x', x - 5)\n            .attr('y', y - 15)\n            .style('opacity', .0);\n            // .attr('width', 10)\n            // .attr('height', 42)\n        arrow.append('path')\n            .attr('d', 'M4.5,32.5 L4.5,1 L4.5,0.5 L5.5,0.5 L5.5,1 L5.5,32.5 L9.5,32.5 L5,41.5 L0.5,32.5 L4.5,32.5 Z')\n            .attr('fill', '#979797')\n            .attr('fill-rule', '#nonzero')\n            .attr('stroke', 'black')\n            .attr('stroke-width', '1');\n\n        arrow.transition()\n            .delay(delay)\n            .duration(1000)\n            .style('opacity', .9);\n    };\n\n    drawArrowRight = (svg, x, y, delay) => {\n        const arrow = svg.append('svg')\n            .attr('x', x + 15)\n            .attr('y', y - 5)\n            .style('opacity', .0);\n            // .attr('width', 10)\n            // .attr('height', 42)\n        arrow.append('path')\n            .attr('d', 'M32.5,5.5 L1,5.5 L0.5,5.5 L0.5,4.5 L1,4.5 L32.5,4.5 L32.5,0.5 L41.5,5 L32.5,9.5 L32.5,5.5 Z')\n            .attr('fill', '#979797')\n            .attr('fill-rule', '#nonzero')\n            .attr('stroke', 'black')\n            .attr('stroke-width', '1');\n        arrow.transition()\n            .delay(delay)\n            .duration(1000)\n            .style('opacity', .9);\n    };\n\n    moveSvgInput = (svg, x, y, sizeOfPicture, widthOfCell, delay) => {\n        const domRect = svg.node().parentNode.getBoundingClientRect();\n        svg.transition()\n            .ease(d3.easeSin)\n            .delay(delay)\n            .duration(1000)\n            .attr('x', domRect.width - sizeOfPicture.w * widthOfCell - 100) //100 - is correction, i didn't catch why\n            .attr('y', y + 15);\n    };\n\n    moveSvgInputBack = (svg) => {\n        svg.transition()\n            .ease(d3.easeSin)\n            .duration(1000)\n            .attr('x', 0) //100 - is correction, i didn't catch why\n            .attr('y', 0);\n    };\n\n    openExplanationModal = () => {\n        this.setState({ isModalOpen: true });\n    };\n\n    closeExplanationModal = () => {\n        this.setState({ isModalOpen: false });\n    };\n\n    render() {\n        const { classes } = this.props;\n        return (\n            <div className='App'>\n                <header className='App-header'>\n                    <Typography variant=\"h4\" gutterBottom style={{marginBottom: 0}}>\n                        Visualisation of neural network\n                    </Typography>\n                    <div className={'small'}>The whole algorithm consist only of 10 simple steps.</div>\n                </header>\n                <div className='Main-container'>\n                    <div className='d3body'>\n                        <div ref={refVis => (this.refVis = refVis)}>\n                            <div style={{display: 'none'}} ref={refVis => (this.refVisTempOne = refVis)}>\n                                <Provider>\n                                    <Node inline>{this.state.descrFormulaOne}</Node>\n                                </Provider>\n                            </div>\n                            <div style={{display: 'none'}} ref={refVis => (this.refVisTempTwo = refVis)}>\n                                <Provider>\n                                    <Node inline>{this.state.descrFormulaTwo}</Node>\n                                </Provider>\n                            </div>\n\n                            <svg ref={viz => (this.viz = viz)}\n                                 width={this.state.width} height={this.state.height}/>\n                        </div>\n                    </div>\n                    <StepperNN\n                        setStep={this.setStep}\n                        openExplanationModal={this.openExplanationModal}\n                    />\n                    {/*TODO move this out ot separate component*/}\n                    <Modal\n                        aria-labelledby=\"simple-modal-title\"\n                        aria-describedby=\"simple-modal-description\"\n                        open={this.state.isModalOpen}\n                        onClose={this.closeExplanationModal}\n                    >\n                        <div style={{\n                            top: `50%`,\n                            left: `60%`,\n                            transform: `translate(-50%, -60%)`,\n                        }} className={classes.paper}>\n                            <Typography variant=\"h6\" id=\"modal-title\">\n                                {this.state.currentDescription.head}\n                            </Typography>\n                            <Typography variant=\"subtitle1\" id=\"simple-modal-description\">\n                                {this.state.currentDescription.body}\n                            </Typography>\n                            <Typography className={classes.instructions} align={\"center\"}>\n                                <Provider>\n                                    <p>\n                                        <Node inline>{this.state.currentStepFormula}</Node>\n                                    </p>\n                                </Provider>\n                            </Typography>\n                        </div>\n                    </Modal>\n                </div>\n            </div>\n        );\n    }\n}\n\nexport default withStyles(styles)(Training);\n","const React = require('react');\nconst d3 = require('d3');\n\n// class defining the pixel pad and explanation\nclass NeuralNetworkClassification extends React.Component {\n\n    static inputData = new Array()\n\n    constructor() {\n        super()\n    }\n\n    componentDidMount() {\n\n        var gridDataArray = this.gridData();\n\n        var mainDiv = d3.select(this.refVisNN)\n        // .attr(\"height\", \"100\")\n        // .attr(\"id\", \"mainDiv\")\n\n        // console.log(gridDataArray);\n        var grid = mainDiv\n            .append(\"svg\")\n            .attr(\"width\", \"15%\")\n            .attr(\"height\", \"100%\")\n            .attr(\"id\", \"inputGrid\")\n\n        var row = grid.selectAll(\".row\")\n            .data(gridDataArray)\n            .enter().append(\"g\")\n            .attr(\"width\", \"30%\")\n            .attr(\"class\", \"row\");\n\n        var column = row.selectAll(\".square\")\n            .data(function (d) { return d; })\n            .enter().append(\"rect\")\n            .attr(\"class\", \"square\")\n            .attr(\"x\", function (d) { return d.x; })\n            .attr(\"y\", function (d) { return d.y; })\n            .attr(\"width\", function (d) { return d.width; })\n            .attr(\"height\", function (d) { return d.height; })\n            .style(\"fill\", \"#ECECF4\")\n            .style(\"stroke\", \"#222\")\n            .on('click', function (d) {\n                // console.log(\"onClick detected\")\n                d.click = !d.click;\n                if (d.click) {\n                    d3.select(this).style(\"fill\", \"#2C93E8\");\n                    NeuralNetworkClassification.inputData[d.index] = 1;\n                } else {\n                    d3.select(this).style(\"fill\", \"#ECECF4\");\n                    NeuralNetworkClassification.inputData[d.index] = 0;\n                }\n            });\n\n\n        var instructionSVG = mainDiv\n            .append(\"svg\")\n            .attr(\"width\", \"85%\")\n            .attr(\"height\", \"100%\")\n            .attr(\"id\", \"instructionSVG\")\n\n        var instructionDataOnStart = [{ text: \"Please enter a number into the pixel pad.\", x: 0, y: 15 },\n        { text: \"After that click the \\\"draw Neural Network\\\" button.\", x: 0, y: 35 },\n        { text: \"The network used for classification will be shown below.\", x: 0, y: 55 }];\n\n        var instruction = instructionSVG.selectAll(\"text\").enter()\n            .data(instructionDataOnStart)\n            .enter()\n            .append(\"text\")\n            .text(function (d) { return d.text })\n            .attr(\"x\", function (d) { return d.x })\n            .attr(\"y\", function (d) { return d.y })\n            .attr(\"font-family\", \"sans-serif\")\n            .attr(\"font-size\", \"20px\")\n            .attr(\"text-anchor\", \"left\")\n            .attr(\"id\", \"instruction\")\n    }\n\n\n    gridData() {\n        var data = new Array();\n        var xpos = 1; //starting xpos and ypos at 1 so the stroke will show when we make the grid below\n        var ypos = 1;\n\n        var width = 20;\n        var height = 20;\n\n        var click = false;\n\n        var numberOfRows = 5;\n        var numberOfColumns = 3\n\n        var index = 0;\n\n        // iterate for rows\t\n        for (var row = 0; row < numberOfRows; row++) {\n            data.push(new Array());\n\n            // iterate for cells/columns inside rows\n            for (var column = 0; column < numberOfColumns; column++) {\n                data[row].push({\n                    x: xpos,\n                    y: ypos,\n                    width: width,\n                    height: height,\n                    click: click,\n                    index: index\n                })\n                // increment the x position. I.e. move it over by 50 (width variable)\n                xpos += width;\n                index++;\n                NeuralNetworkClassification.inputData.push(0)\n            }\n            // reset the x position after a row is complete\n            xpos = 1;\n            // increment the y position for the next row. Move it down 50 (height variable)\n            ypos += height;\n        }\n        return data;\n    }\n    render () {\n        return (\n            <div className='NumberMatrix' style={{height : \"108px\"}}>\n                <div ref={refVis => (this.refVisNN = refVis)}>\n                </div>\n            </div>\n        )\n    }\n\n}\n\nexport default NeuralNetworkClassification;","const React = require('react');\nconst d3 = require('d3');\n\n\nclass Button extends React.Component {\n\n    initialize(node, props) {\n    }\n\n    static button() {\n\n        var dispatch = d3.dispatch('press', 'release');\n\n        var padding = 10,\n            radius = 10,\n            stdDeviation = 5,\n            offsetX = 2,\n            offsetY = 4;\n\n        function my(selection) {\n            selection.each(function (d, i) {\n                var g = d3.select(this)\n                    .attr('id', 'd3-button' + i)\n                    .attr('transform', 'translate(' + d.x + ',' + d.y + ')');\n\n                var text = g.append('text').text(d.label);\n                var defs = g.append('defs');\n                var bbox = text.node().getBBox();\n                var rect = g.insert('rect', 'text')\n                    .attr(\"x\", bbox.x - padding)\n                    .attr(\"y\", bbox.y - padding)\n                    .attr(\"width\", bbox.width + 2 * padding)\n                    .attr(\"height\", bbox.height + 2 * padding)\n                    .attr('rx', radius)\n                    .attr('ry', radius)\n                    .on('mouseover', activate)\n                    .on('mouseout', deactivate)\n                    .on('click', toggle)\n\n                addShadow.call(g.node(), d, i);\n                addGradient.call(g.node(), d, i);\n            });\n        }\n\n        function addGradient(d, i) {\n            var defs = d3.select(this).select('defs');\n            var gradient = defs.append('linearGradient')\n                .attr('id', 'gradient' + i)\n                .attr('x1', '0%')\n                .attr('y1', '0%')\n                .attr('x2', '0%')\n                .attr('y2', '100%');\n\n            gradient.append('stop')\n                .attr('id', 'gradient-start')\n                .attr('offset', '0%')\n\n            gradient.append('stop')\n                .attr('id', 'gradient-stop')\n                .attr('offset', '100%')\n\n            d3.select(this).select('rect').attr('fill', 'url(#gradient' + i + \")\");\n        }\n\n        function addShadow(d, i) {\n            var defs = d3.select(this).select('defs');\n            var rect = d3.select(this).select('rect').attr('filter', 'url(#dropShadow' + i + \")\");\n            var shadow = defs.append('filter')\n                .attr('id', 'dropShadow' + i)\n                .attr('x', rect.attr('x'))\n                .attr('y', rect.attr('y'))\n                .attr('width', rect.attr('width') + offsetX)\n                .attr('height', rect.attr('height') + offsetY)\n\n            shadow.append('feGaussianBlur')\n                .attr('in', 'SourceAlpha')\n                .attr('stdDeviation', 2)\n\n            shadow.append('feOffset')\n                .attr('dx', offsetX)\n                .attr('dy', offsetY);\n\n            var merge = shadow.append('feMerge');\n\n            merge.append('feMergeNode');\n            merge.append('feMergeNode').attr('in', 'SourceGraphic');\n        }\n\n        function activate() {\n            var gradient = d3.select(this.parentNode).select('linearGradient')\n            d3.select(this.parentNode).select(\"rect\").classed('active', true)\n            if (!gradient.node()) return;\n            gradient.select('#gradient-start').classed('active', true)\n            gradient.select('#gradient-stop').classed('active', true)\n        }\n\n        function deactivate() {\n            var gradient = d3.select(this.parentNode).select('linearGradient')\n            d3.select(this.parentNode).select(\"rect\").classed('active', false)\n            if (!gradient.node()) return;\n            gradient.select('#gradient-start').classed('active', false);\n            gradient.select('#gradient-stop').classed('active', false);\n        }\n\n        function toggle(d, i) {\n            if (d3.select(this).classed('pressed')) {\n                release.call(this, d, i);\n                deactivate.call(this, d, i);\n            } else {\n                press.call(this, d, i);\n                activate.call(this, d, i);\n            }\n        }\n\n        function press(d, i) {\n            dispatch.call('press', this, d, i)\n            d3.select(this).classed('pressed', true);\n            var shadow = d3.select(this.parentNode).select('filter')\n            if (!shadow.node()) return;\n            shadow.select('feOffset').attr('dx', 0).attr('dy', 0);\n            shadow.select('feGaussianBlur').attr('stdDeviation', 0);\n        }\n\n        function release(d, i) {\n            dispatch.call('release', this, d, i)\n            my.clear.call(this, d, i);\n        }\n\n        my.clear = function (d, i) {\n            d3.select(this).classed('pressed', false);\n            var shadow = d3.select(this.parentNode).select('filter')\n            if (!shadow.node()) return;\n            shadow.select('feOffset').attr('dx', offsetX).attr('dy', offsetY);\n            shadow.select('feGaussianBlur').attr('stdDeviation', stdDeviation);\n        }\n\n        my.on = function () {\n            var value = dispatch.on.apply(dispatch, arguments);\n            return value === dispatch ? my : value;\n        };\n\n        return my;\n    }\n\n}\n\nexport default Button;\n","import NeuralNetworkClassification from './NeuralNetworkClassification'; //Number Matrix\nimport Button from './Button';\nimport data from './nn.json'\nimport style from './styles.css'\nconst React = require('react');\nconst d3 = require('d3');\n\n\n\n// class defining the neural network\nclass NeuralNetwork extends React.Component {\n\n    dataFromNeuralNetworkClassification\n\n    componentDidMount() {\n//node, props\n        // data from input\n        this.dataFromNeuralNetworkClassification = NeuralNetworkClassification.inputData;\n\n        var width = 960,\n            height = 654\n\n\n        // label for the button\n        var data = [{ label: \"Draw Neural Network\", x: width / 5, y: 50 }];\n\n        // save the link to current object, to hande overloaded this inside embedded methods\n\n        //var objs = this;\n\n        // initialize button\n        var button = Button.button()\n            .on('press', (d, i) => { this.draw(svg, width, height, this.refVis) })\n        // .on('release', function (d, i) { console.log(\"Released\", d, i, this.parentNode) });\n\n        // Add buttons\n        var buttons = d3.select(this.refVis)\n            .append(\"svg\")\n            .attr(\"width\", width / 2)\n            .attr(\"height\", height / 8)\n            .style(\"display\", \"block\")\n            .selectAll('.button')\n            .data(data)\n            .enter()\n            .append('g')\n            .attr('class', 'button')\n            .call(button);\n\n        // add svg for the neural network\n        var svg = d3.select(this.refVis).append(\"svg\")\n            .attr(\"width\", width)\n            .attr(\"height\", height)\n            .attr(\"id\", \"nn\");\n    }\n\n    // draw neural network into the given svg with the given style\n    draw(svg, width, height, node) {\n\n        var instructionDataOnDrawNetwork = [{ text: \"You can see how the network classified your input below.\", x: 0, y: 15 },\n        { text: \"Deeper blue color marks more probable classification result\", x: 0, y: 35 },\n        { text: \"Hover over circles to see additional information.\", x: 0, y: 55 }];\n\n        // update instructions on button click\n        var index = 0;\n        var text = d3.selectAll('svg text').each(function (d, i) {\n            if (index < 3) {\n                d3.select(this).text(instructionDataOnDrawNetwork[index].text);\n            }\n            index++;\n        })\n\n        var nodeSize = 20;\n\n        var nodes = data.nodes;\n\n        // add nodes from the input grid to the nodes from predefined file\n        var indexForInputayer = 0;\n        this.dataFromNeuralNetworkClassification.forEach(function (d) {\n            if (d == 0) {\n                nodes.push({ \"label\": \"i\" + indexForInputayer, \"layer\": 1, color: \"#ECECF4\", id: indexForInputayer, nodeSize: nodeSize, \"dx\": -5, \"dy\": 5 })\n            } else {\n                nodes.push({ \"label\": \"i\" + indexForInputayer, \"layer\": 1, color: \"#2C93E8\", id: indexForInputayer, nodeSize: nodeSize, \"dx\": -5, \"dy\": 5 })\n            }\n            indexForInputayer++\n        })\n\n        // get network size\n        var netsize = {};\n        nodes.forEach(function (d) {\n            if (d.layer in netsize) {\n                netsize[d.layer] += 1;\n            } else {\n                netsize[d.layer] = 1;\n            }\n            d[\"lidx\"] = netsize[d.layer];\n        });\n\n        // calc distances between nodes\n        var largestLayerSize = Math.max.apply(\n            null, Object.keys(netsize).map(function (i) { return netsize[i]; }));\n\n        var xdist = width / Object.keys(netsize).length,\n            ydist = height / largestLayerSize + 20;\n\n        // create node locations\n        nodes.map(function (d) {\n\n            // if the nodes are from the \n            if (d.layer == 1) {\n                d[\"x\"] = xdist * (d.id % 3) / 5 + 50;\n                d[\"y\"] = ydist * ~~(d.id / 3) + 150;\n\n            } else {\n                d[\"x\"] = (d.layer - 0.5) * xdist;\n                d[\"y\"] = (d.lidx - 0.5) * ydist + 100;\n            }\n        });\n\n        // autogenerate links\n        var links = [];\n        nodes.map(function (d, i) {\n            for (var n in nodes) {\n                if (d.layer + 1 == nodes[n].layer) {\n                    links.push({ \"source\": parseInt(i), \"target\": parseInt(n), \"value\": 1 })\n                }\n            }\n        }).filter(function (d) { return typeof d !== \"undefined\"; });\n\n        // draw links\n        var link = svg.selectAll(\".link\")\n            .data(links)\n            .enter().append(\"line\")\n            .attr(\"class\", \"link\")\n            .attr(\"x1\", function (d) { return nodes[d.source].x; })\n            .attr(\"y1\", function (d) { return nodes[d.source].y; })\n            .attr(\"x2\", function (d) { return nodes[d.target].x; })\n            .attr(\"y2\", function (d) { return nodes[d.target].y; })\n            .style(\"stroke-width\", function (d) { return Math.sqrt(d.value); })\n\n        // draw nodes\n        var node = svg.selectAll(\".node\")\n            .data(nodes)\n            .enter().append(\"g\")\n            .attr(\"transform\", function (d) {\n                return \"translate(\" + d.x + \",\" + d.y + \")\";\n            })\n        var circle = node.append(\"circle\")\n            .attr(\"class\", \"node\")\n            .attr(\"r\", function (d) { return d.nodeSize; })\n            .style(\"fill\", function (d) { return d.color; })\n            .on('mouseover', function (d, i) {\n                // apply the function only on the elements of the hidden layer\n                if (d.layer == 2 || d.layer == 3) {\n                    d3.selection.prototype.moveToFront = function () {\n                        return this.each(function () {\n                            this.parentNode.appendChild(this);\n                        });\n                    };\n\n                    // select the corresponding image\n                    var imagename = \"upper_o\";\n                    if (d.label == \". |\") {\n                        imagename = \"right_I\"\n                    } else if (d.label == \"_\") {\n                        imagename = \"lower\"\n                    } else if (d.label == \"o\") {\n                        // imagename = \"lower_o\"\n                        imagename = \"lower_o_9\"\n                    } else if (d.label == \"| .\") {\n                        // imagename = \"left_I\"\n                        imagename = \"left_I_9\"\n                    } else if (d.label == \"^\") {\n                        imagename = \"upper\"\n                    } else if (d.label == \"9\") {\n                        imagename = \"c9_9\"\n                    } else if (d.label == \"8\") {\n                        imagename = \"c8_9\"\n                    } else if (d.label == \"2\") {\n                        imagename = \"c2_9\"\n                    } else if (d.label == \"0\") {\n                        imagename = \"c0_9\"\n                    }\n\n                    // add pattern if there this one does not already exist\n                    if (d3.select(\"#\" + imagename)[\"_groups\"][0][0] == null) {\n                        var image = d3.select(this.parentNode)\n                            .append(\"pattern\")\n                            .attr(\"id\", imagename)\n                            .attr(\"class\", \"svg-image\")\n                            .attr(\"x\", \"0\")\n                            .attr(\"y\", \"0\")\n                            .attr(\"height\", \"1\")\n                            .attr(\"width\", \"1\")\n                            .append(\"image\")\n                            .attr(\"x\", \"25\")\n                            .attr(\"y\", \"25\")\n                            .attr(\"height\", \"150px\")\n                            .attr(\"width\", \"150px\")\n                            .attr(\"xlink:href\", process.env.PUBLIC_URL + \"images/\" + imagename + \".png\")\n                    }\n\n                    // zoom in\n                    d3.select(this)\n                        .transition()\n                        .duration(100)\n                        .attr('r', 100)\n                        .style(\"fill\", \"url(#\" + imagename + \")\")\n                        .style(\"stroke\", \"black\")\n                        .style(\"stroke-width\", 0.25)\n                        \n\n                    // overlap other nodes\n                    d3.select(this.parentNode)\n                        .moveToFront()\n                }\n            })\n            .on('mouseout', function (d, i) {\n                // return the mouseover'd element\n                // to being smaller and black\n                d3.select(this)\n                    .transition()\n                    .duration(100)\n                    .attr('r', function (d) { return d.nodeSize; })\n                    .style(\"fill\", function (d) { return d.color; })\n            })\n\n        // move text closer to the corresponding image part\n        node.append(\"text\")\n            .attr(\"dx\", function (d) { return d.dx; })\n            .attr(\"dy\", function (d) { return d.dy; })\n            .text(function (d) { return d.label; });\n    }\n    render () {\n        return (\n            <div className='Main-container'>\n                <NeuralNetworkClassification/> { /*Number Matrix*/}\n                <div ref={refVis => (this.refVis = refVis)}>\n                </div>\n\n            </div>\n        )\n    }\n}\n\nexport default NeuralNetwork;","import React, {Component} from 'react';\nimport './Trainig.css';\nimport Training from \"./Training\";\nimport NeuralNetwork from \"./NeuralNetwork\";\nimport PropTypes from 'prop-types';\nimport { withStyles } from '@material-ui/core/styles';\nimport MobileStepper from '@material-ui/core/MobileStepper';\nimport Button from '@material-ui/core/Button';\nimport KeyboardArrowLeft from '@material-ui/icons/KeyboardArrowLeft';\nimport KeyboardArrowRight from '@material-ui/icons/KeyboardArrowRight';\n\nconst styles = theme => ({\n    root: {\n        maxWidth: \"100%\",\n        flexGrow: 1,\n    },\n    buttonLeft: {\n        position: \"absolute\",\n        bottom: \"3px\",\n        left: \"0\",\n    },\n    buttonRight: {\n        position: \"absolute\",\n        bottom: \"3px\",\n        right: \"0\",\n    },\n    header: {\n        display: 'flex',\n        alignItems: 'center',\n        height: 50,\n        paddingLeft: theme.spacing.unit * 4,\n        backgroundColor: theme.palette.background.default,\n    },\n    img: {\n        height: 255,\n        maxWidth: \"100%\",\n        overflow: 'hidden',\n        display: 'block',\n        width: '100%',\n    },\n});\n\n\nclass MainComponent extends Component {\n    state = {\n        activeStep: 0,\n    };\n\n    handleNext = () => {\n        this.setState(prevState => ({\n            activeStep: prevState.activeStep + 1,\n        }));\n    };\n\n    handleBack = () => {\n        this.setState(prevState => ({\n            activeStep: prevState.activeStep - 1,\n        }));\n    };\n\n    render () {\n        const { activeStep } = this.state;\n        const { classes, theme } = this.props;\n        const maxSteps = 2;\n        return (\n            <div className={classes.root}>\n                {activeStep == 0 && <Training />}\n                {activeStep == 1 && <NeuralNetwork />}\n                <MobileStepper\n                    steps={maxSteps}\n                    position=\"static\"\n                    variant=\"text\"\n                    activeStep={activeStep}\n                    className={classes.mobileStepper}\n                    backButton={\n                        <Button size=\"small\" className={classes.buttonLeft} onClick={this.handleBack} disabled={activeStep === 0}>\n                            {theme.direction === 'rtl' ? <KeyboardArrowRight /> : <KeyboardArrowLeft />}\n                            Training\n                        </Button>\n                    }\n                    nextButton={\n                        <Button size=\"small\" className={classes.buttonRight} onClick={this.handleNext} disabled={activeStep === maxSteps - 1}>\n                            Classification\n                            {theme.direction === 'rtl' ? <KeyboardArrowLeft /> : <KeyboardArrowRight />}\n                        </Button>\n                    }\n                />\n            </div>\n        );\n    }\n}\nMainComponent.propTypes = {\n    classes: PropTypes.object.isRequired,\n    theme: PropTypes.object.isRequired,\n};\nexport default withStyles(styles, { withTheme: true })(MainComponent);\n\n","// This optional code is used to register a service worker.\n// register() is not called by default.\n\n// This lets the app load faster on subsequent visits in production, and gives\n// it offline capabilities. However, it also means that developers (and users)\n// will only see deployed updates on subsequent visits to a page, after all the\n// existing tabs open on the page have been closed, since previously cached\n// resources are updated in the background.\n\n// To learn more about the benefits of this model and instructions on how to\n// opt-in, read http://bit.ly/CRA-PWA\n\nconst isLocalhost = Boolean(\n  window.location.hostname === 'localhost' ||\n    // [::1] is the IPv6 localhost address.\n    window.location.hostname === '[::1]' ||\n    // 127.0.0.1/8 is considered localhost for IPv4.\n    window.location.hostname.match(\n      /^127(?:\\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/\n    )\n);\n\nexport function register(config) {\n  if (process.env.NODE_ENV === 'production' && 'serviceWorker' in navigator) {\n    // The URL constructor is available in all browsers that support SW.\n    const publicUrl = new URL(process.env.PUBLIC_URL, window.location.href);\n    if (publicUrl.origin !== window.location.origin) {\n      // Our service worker won't work if PUBLIC_URL is on a different origin\n      // from what our page is served on. This might happen if a CDN is used to\n      // serve assets; see https://github.com/facebook/create-react-app/issues/2374\n      return;\n    }\n\n    window.addEventListener('load', () => {\n      const swUrl = `${process.env.PUBLIC_URL}/service-worker.js`;\n\n      if (isLocalhost) {\n        // This is running on localhost. Let's check if a service worker still exists or not.\n        checkValidServiceWorker(swUrl, config);\n\n        // Add some additional logging to localhost, pointing developers to the\n        // service worker/PWA documentation.\n        navigator.serviceWorker.ready.then(() => {\n          console.log(\n            'This web app is being served cache-first by a service ' +\n              'worker. To learn more, visit http://bit.ly/CRA-PWA'\n          );\n        });\n      } else {\n        // Is not localhost. Just register service worker\n        registerValidSW(swUrl, config);\n      }\n    });\n  }\n}\n\nfunction registerValidSW(swUrl, config) {\n  navigator.serviceWorker\n    .register(swUrl)\n    .then(registration => {\n      registration.onupdatefound = () => {\n        const installingWorker = registration.installing;\n        if (installingWorker == null) {\n          return;\n        }\n        installingWorker.onstatechange = () => {\n          if (installingWorker.state === 'installed') {\n            if (navigator.serviceWorker.controller) {\n              // At this point, the updated precached content has been fetched,\n              // but the previous service worker will still serve the older\n              // content until all client tabs are closed.\n              console.log(\n                'New content is available and will be used when all ' +\n                  'tabs for this page are closed. See http://bit.ly/CRA-PWA.'\n              );\n\n              // Execute callback\n              if (config && config.onUpdate) {\n                config.onUpdate(registration);\n              }\n            } else {\n              // At this point, everything has been precached.\n              // It's the perfect time to display a\n              // \"Content is cached for offline use.\" message.\n              console.log('Content is cached for offline use.');\n\n              // Execute callback\n              if (config && config.onSuccess) {\n                config.onSuccess(registration);\n              }\n            }\n          }\n        };\n      };\n    })\n    .catch(error => {\n      console.error('Error during service worker registration:', error);\n    });\n}\n\nfunction checkValidServiceWorker(swUrl, config) {\n  // Check if the service worker can be found. If it can't reload the page.\n  fetch(swUrl)\n    .then(response => {\n      // Ensure service worker exists, and that we really are getting a JS file.\n      const contentType = response.headers.get('content-type');\n      if (\n        response.status === 404 ||\n        (contentType != null && contentType.indexOf('javascript') === -1)\n      ) {\n        // No service worker found. Probably a different app. Reload the page.\n        navigator.serviceWorker.ready.then(registration => {\n          registration.unregister().then(() => {\n            window.location.reload();\n          });\n        });\n      } else {\n        // Service worker found. Proceed as normal.\n        registerValidSW(swUrl, config);\n      }\n    })\n    .catch(() => {\n      console.log(\n        'No internet connection found. App is running in offline mode.'\n      );\n    });\n}\n\nexport function unregister() {\n  if ('serviceWorker' in navigator) {\n    navigator.serviceWorker.ready.then(registration => {\n      registration.unregister();\n    });\n  }\n}\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport MainComponent from './MainComponent';\nimport * as serviceWorker from './serviceWorker';\n\nReactDOM.render(<MainComponent />, document.getElementById('root'));\n\n// If you want your app to work offline and load faster, you can change\n// unregister() to register() below. Note this comes with some pitfalls.\n// Learn more about service workers: http://bit.ly/CRA-PWA\nserviceWorker.unregister();\n"],"sourceRoot":""}